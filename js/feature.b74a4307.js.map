{"version":3,"sources":["webpack:///./src/views/Feature.vue","webpack:///./src/views/Feature.vue?d57a","webpack:///./src/views/Feature.vue?b1e3","webpack:///./src/views/Feature.vue?e85d"],"names":["class","feature","name","type","value","environments","environment","key","setToggle","toggled","getFeatureSettings","handleToggleChange","$event","step","min","max","seed","id","handleSeedChange","target","randomizeSeed","handleThresholdChange","data","methods","randomValue","Math","floor","random","this","$store","getters","console","log","dispatch","settings","updateType","previous","current","created","$router","replace","updated","activated","computed","$route","params","watch","oldFeature","oldType","components","Toggle","render"],"mappings":"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","file":"js/feature.b74a4307.js","sourcesContent":["<template>\n  <div class=\"feature-page\">\n    <h1 class=\"title\">Feature: {{ feature?.name }}</h1>\n\n    <div class=\"field-row feature\">\n      <label>Feature Type</label>\n      <div class=\"feature-type-options radio-options\">\n        <label>\n          <input v-model=\"type\" type=\"radio\" name=\"type\" value=\"toggle\" />\n          Toggle\n        </label>\n\n        <label>\n          <input v-model=\"type\" type=\"radio\" name=\"type\" value=\"gradual\" />\n          Gradual\n        </label>\n\n        <label>\n          <input v-model=\"type\" type=\"radio\" name=\"type\" value=\"selective\" />\n          Selective\n        </label>\n      </div>\n    </div>\n    <div class=\"environments\">\n      <h2>Environments</h2>\n      <div\n        class=\"environment form-section\"\n        :class=\"type === 'toggle' ? 'inline-field' : ''\"\n        v-for=\"environment in environments\"\n        :key=\"environment.name\"\n      >\n        <h3>{{ environment.name }}</h3>\n        <div v-if=\"type === 'toggle'\">\n          <div class=\"toggle-wrapper field\">\n            <button class=\"text-button\" @click=\"setToggle(environment, false)\">\n              Off\n            </button>\n            <Toggle\n              :toggled=\"getFeatureSettings(environment)?.value\"\n              @change=\"handleToggleChange(environment, $event)\"\n            />\n            <button class=\"text-button\" @click=\"setToggle(environment, true)\">\n              On\n            </button>\n          </div>\n        </div>\n        <div v-if=\"type === 'gradual'\">\n          <div class=\"seed-wrapper\">\n            <div class=\"row\">\n              <h4>Seed:</h4>\n              <input\n                class=\"feature-input\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0.01\"\n                max=\".099\"\n                :value=\"getFeatureSettings(environment)?.seed\"\n                @input=\"\n                  handleSeedChange(environment, $event.target.value * 100)\n                \"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">.01</label>\n              <input\n                class=\"feature-slider left\"\n                id=\"{{environment}}-seed\"\n                name=\"{{environment}}-seed\"\n                :value=\"getFeatureSettings(environment)?.seed * 100\"\n                type=\"range\"\n                min=\"1\"\n                max=\"99\"\n                step=\"1\"\n                @input=\"handleSeedChange(environment, $event.target.value)\"\n              />\n              <label class=\"slider-label\">.99</label>\n              <button class=\"right mini\" @click=\"randomizeSeed(environment)\">\n                Randomize\n              </button>\n            </div>\n          </div>\n          <hr />\n          <div class=\"threshold-wrapper\">\n            <div class=\"row\">\n              <h4>Threshold:</h4>\n              <input\n                class=\"feature-input\"\n                type=\"number\"\n                step=\"1\"\n                min=\"0\"\n                max=\"100\"\n                :value=\"getFeatureSettings(environment)?.value\"\n                @input=\"handleThresholdChange(environment, $event.target.value)\"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">1</label>\n              <input\n                id=\"{{environment}}-threshold\"\n                class=\"feature-slider\"\n                name=\"{{environment}}-threshold\"\n                :value=\"getFeatureSettings(environment)?.value\"\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"handleThresholdChange(environment, $event.target.value)\"\n              />\n              <label class=\"slider-label\">100</label>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"false && type === 'selective'\">selective</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"postcss\">\n\n.feature-page {\n  @apply max-w-screen-sm m-auto;\n}\n \n.title {\n  @apply text-left;\n}\n.feature{\n  @apply flex flex-col items-center justify-center text-center\n}\n\n.environments {\n  & > h2 {\n    @apply mb-0;\n  }\n}\n\n.environment {\n  & h3 {\n    @apply mt-0 w-24;\n  }\n}\n</style>\n\n<script lang=\"ts\">\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport Toggle from \"@/components/Toggle.vue\";\n\nimport isEqual from \"lodash/fp/isEqual\";\nimport {\n  Environment,\n  Feature,\n  VexillaFeature,\n  VexillaFeatureTypeString,\n} from \"@/store/app\";\nimport { mapState } from \"vuex\";\n\nexport default defineComponent({\n  name: \"Feature\",\n  data() {\n    return {\n      type: \"toggle\",\n    };\n  },\n  methods: {\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.handleSeedChange(environment, randomValue);\n    },\n    getFeatureSettings(environment: Environment) {\n      return this.$store.getters[\"app/getFeatureSettings\"](\n        this.feature,\n        environment,\n        this.type\n      );\n    },\n    handleToggleChange(environment: Environment, toggled: boolean) {\n      console.log(\"inside handle toggle change\", toggled);\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: toggled,\n        } as VexillaFeature,\n      });\n    },\n    setToggle(environment: Environment, toggled: boolean) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: toggled,\n        } as VexillaFeature,\n      });\n    },\n    handleSeedChange(environment: Environment, value: number) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          seed: +value / 100,\n        } as VexillaFeature,\n      });\n    },\n    handleThresholdChange(environment: Environment, value: number) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: +value,\n        } as VexillaFeature,\n      });\n    },\n    updateType(type: string) {\n      this.$store.dispatch(\"app/editFeature\", {\n        previous: this.feature,\n        current: {\n          ...this.feature,\n          type,\n        },\n      });\n    },\n  },\n  created() {\n    if (!this.feature) {\n      this.$router.replace(\"/\");\n      this.type = this.feature?.type;\n    } else {\n      this.type = this.feature?.type;\n    }\n  },\n  updated() {\n    this.type = this.feature?.type;\n  },\n  activated() {\n    this.type = this.feature?.type;\n  },\n  computed: {\n    ...mapState(\"app\", [\"environments\", \"featureSettings\"]),\n    feature() {\n      return this.$store.getters[\"app/featureByName\"](this.$route.params.name);\n    },\n  },\n  watch: {\n    feature(feature: Feature, oldFeature: Feature) {\n      this.type = feature?.type;\n    },\n    type(type, oldType) {\n      this.updateType(type);\n    },\n  },\n  components: {\n    Toggle,\n  },\n});\n</script>\n","\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport Toggle from \"@/components/Toggle.vue\";\n\nimport isEqual from \"lodash/fp/isEqual\";\nimport {\n  Environment,\n  Feature,\n  VexillaFeature,\n  VexillaFeatureTypeString,\n} from \"@/store/app\";\nimport { mapState } from \"vuex\";\n\nexport default defineComponent({\n  name: \"Feature\",\n  data() {\n    return {\n      type: \"toggle\",\n    };\n  },\n  methods: {\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.handleSeedChange(environment, randomValue);\n    },\n    getFeatureSettings(environment: Environment) {\n      return this.$store.getters[\"app/getFeatureSettings\"](\n        this.feature,\n        environment,\n        this.type\n      );\n    },\n    handleToggleChange(environment: Environment, toggled: boolean) {\n      console.log(\"inside handle toggle change\", toggled);\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: toggled,\n        } as VexillaFeature,\n      });\n    },\n    setToggle(environment: Environment, toggled: boolean) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: toggled,\n        } as VexillaFeature,\n      });\n    },\n    handleSeedChange(environment: Environment, value: number) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          seed: +value / 100,\n        } as VexillaFeature,\n      });\n    },\n    handleThresholdChange(environment: Environment, value: number) {\n      this.$store.dispatch(\"app/setFeatureSettings\", {\n        feature: this.feature,\n        environment,\n        type: this.type,\n        settings: {\n          value: +value,\n        } as VexillaFeature,\n      });\n    },\n    updateType(type: string) {\n      this.$store.dispatch(\"app/editFeature\", {\n        previous: this.feature,\n        current: {\n          ...this.feature,\n          type,\n        },\n      });\n    },\n  },\n  created() {\n    if (!this.feature) {\n      this.$router.replace(\"/\");\n      this.type = this.feature?.type;\n    } else {\n      this.type = this.feature?.type;\n    }\n  },\n  updated() {\n    this.type = this.feature?.type;\n  },\n  activated() {\n    this.type = this.feature?.type;\n  },\n  computed: {\n    ...mapState(\"app\", [\"environments\", \"featureSettings\"]),\n    feature() {\n      return this.$store.getters[\"app/featureByName\"](this.$route.params.name);\n    },\n  },\n  watch: {\n    feature(feature: Feature, oldFeature: Feature) {\n      this.type = feature?.type;\n    },\n    type(type, oldType) {\n      this.updateType(type);\n    },\n  },\n  components: {\n    Toggle,\n  },\n});\n","import { render } from \"./Feature.vue?vue&type=template&id=65ddb6f9\"\nimport script from \"./Feature.vue?vue&type=script&lang=ts\"\nexport * from \"./Feature.vue?vue&type=script&lang=ts\"\n\nimport \"./Feature.vue?vue&type=style&index=0&id=65ddb6f9&lang=postcss\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Feature.vue?vue&type=style&index=0&id=65ddb6f9&lang=postcss\""],"sourceRoot":""}