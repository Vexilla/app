(function(e){function t(t){for(var o,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r={app:0},i=[];function c(e){return s.p+"js/"+({configuration:"configuration",environment:"environment",environments:"environments",feature:"feature",features:"features"}[e]||e)+"."+{configuration:"d5249952",environment:"2aa37f16",environments:"205dfe92",feature:"815e735f",features:"9dd39b33"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={configuration:1,environment:1,environments:1,feature:1,features:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({configuration:"configuration",environment:"environment",environments:"environments",feature:"feature",features:"features"}[e]||e)+"."+{configuration:"2fbd6b9a",environment:"89072372",environments:"177647a3",feature:"77d46f4f",features:"177647a3"}[e]+".css",r=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===o||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=r;var g=document.getElementsByTagName("head")[0];g.appendChild(f)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/app/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;i.push([2,"chunk-vendors"]),n()})({0:function(e,t){},"0490":function(e,t,n){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},"1ce2":function(e,t,n){"use strict";n("6919")},2:function(e,t,n){e.exports=n("cd49")},"2c2c":function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},5469:function(e,t,n){"use strict";n("950cb")},6:function(e,t){},6919:function(e,t,n){},7:function(e,t){},8:function(e,t){},"84df":function(e,t,n){},9:function(e,t){},"950cb":function(e,t,n){},"9d01":function(e,t,n){"use strict";n("2c2c")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={class:"header"},r=Object(o["f"])(),i=Object(o["g"])("span",{class:"app-title"},"Vexilla",-1),c={class:"publish-row"},s={class:"status-wrapper"},u=Object(o["g"])("span",{class:"status-message error"}," Config is invalid ",-1),l={key:0,class:"status-message"},d={key:1,class:"status-message blue"},f={class:"layout"},g={class:"page-wrapper"};function p(e,t,n,p,m,b){var v,h,O,j,y,w,S,k,E,F,C,x,I=Object(o["w"])("Icon"),N=Object(o["w"])("router-link"),A=Object(o["w"])("Sidebar"),R=Object(o["w"])("router-view");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("header",a,[Object(o["g"])("h1",null,[Object(o["g"])(I,{icon:e.icons.flag},null,8,["icon"]),r,i]),Object(o["g"])("div",c,[Object(o["g"])("div",s,[Object(o["g"])("div",null,[e.configIsValid()?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])(N,{key:0,class:"status-link",to:"/configuration"},{default:Object(o["D"])((function(){return[u]})),_:1}))]),e.dataHasChanged()?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("span",l," No changes to push. ")),e.dataHasChanged()?(Object(o["p"])(),Object(o["d"])("span",d," Changes to push. ")):Object(o["e"])("",!0),null===(v=e.hosting)||void 0===v||null===(h=v.status)||void 0===h||!h.message||null!==(O=e.hosting)&&void 0!==O&&null!==(j=O.status)&&void 0!==j&&j.route?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("span",{key:2,class:["status-message",null===(y=e.hosting)||void 0===y||null===(w=y.status)||void 0===w?void 0:w.type]},Object(o["y"])(null===(S=e.hosting)||void 0===S||null===(k=S.status)||void 0===k?void 0:k.message),3)),null!==(E=e.hosting)&&void 0!==E&&null!==(F=E.status)&&void 0!==F&&F.route?(Object(o["p"])(),Object(o["d"])(N,{key:3,class:"status-link",to:null===(C=e.hosting)||void 0===C||null===(x=C.status)||void 0===x?void 0:x.route},{default:Object(o["D"])((function(){var t,n,a,r;return[Object(o["g"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(o["y"])(null===(a=e.hosting)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.message),3)]})),_:1},8,["to"])):Object(o["e"])("",!0)]),Object(o["g"])("button",{class:"mobile-menu-button",onClick:t[1]||(t[1]=function(){return e.toggleSidebarShowing&&e.toggleSidebarShowing.apply(e,arguments)})},[e.sidebarShowing?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])(I,{key:0,icon:e.icons.openMenu},null,8,["icon"])),e.sidebarShowing?(Object(o["p"])(),Object(o["d"])(I,{key:1,icon:e.icons.closeMenu},null,8,["icon"])):Object(o["e"])("",!0)])])]),Object(o["g"])("div",f,[Object(o["g"])(A),Object(o["g"])("div",g,[Object(o["g"])(R)])])],64)}n("96cf");var m=n("1da1"),b=n("5530"),v=n("c850"),h=n("509f"),O=n("1294"),j=n("2c29"),y=Object(o["G"])("data-v-9358492c");Object(o["s"])("data-v-9358492c");var w={class:"toolbar"},S={class:"status-wrapper"},k=Object(o["g"])("span",{class:"status-message error"}," Config is invalid ",-1),E={key:0,class:"status-message"},F={class:"publish-row"},C=Object(o["g"])("span",{class:"sr-only","aria-hidden":"true"},"Download features.json",-1),x=Object(o["g"])("span",{class:"sr-only","aria-hidden":"true"}," Copy features.json to clipboard ",-1),I=Object(o["f"])(" Publish "),N=Object(o["f"])(" Configuration "),A=Object(o["g"])("span",null," > ",-1),R=Object(o["g"])("hr",{class:"separator"},null,-1);Object(o["q"])();var V=y((function(e,t,n,a,r,i){var c,s,u,l,d,f,g,p,m,b,v,h,O,j,V,P,T,H,_=Object(o["w"])("router-link"),J=Object(o["w"])("Icon"),L=Object(o["w"])("ManageList");return Object(o["p"])(),Object(o["d"])("div",{class:["sidebar",{showing:e.sidebarShowing}]},[Object(o["g"])("div",w,[Object(o["g"])("div",S,[Object(o["g"])("div",null,[e.configIsValid()?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])(_,{key:0,class:"status-link",to:"/configuration"},{default:y((function(){return[k]})),_:1}))]),e.dataHasChanged()?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("span",E," No changes to push. ")),null===(c=e.hosting)||void 0===c||null===(s=c.status)||void 0===s||!s.message||null!==(u=e.hosting)&&void 0!==u&&null!==(l=u.status)&&void 0!==l&&l.route?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("span",{key:1,class:["status-message",null===(d=e.hosting)||void 0===d||null===(f=d.status)||void 0===f?void 0:f.type]},Object(o["y"])(null===(g=e.hosting)||void 0===g||null===(p=g.status)||void 0===p?void 0:p.message),3)),null!==(m=e.hosting)&&void 0!==m&&null!==(b=m.status)&&void 0!==b&&b.message&&null!==(v=e.hosting)&&void 0!==v&&null!==(h=v.status)&&void 0!==h&&h.route?(Object(o["p"])(),Object(o["d"])(_,{key:2,class:"status-link",to:null===(O=e.hosting)||void 0===O||null===(j=O.status)||void 0===j?void 0:j.route},{default:y((function(){var t,n,a,r;return[Object(o["g"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(o["y"])(null===(a=e.hosting)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.message),3)]})),_:1},8,["to"])):Object(o["e"])("",!0)]),Object(o["g"])("div",F,[Object(o["g"])("button",{class:"icon-button",onClick:t[1]||(t[1]=function(t){return e.exportJson()}),title:"Download JSON","aria-label":"Download features.json"},[Object(o["g"])(J,{class:"icon",icon:e.icons.download},null,8,["icon"]),C]),Object(o["g"])("button",{class:"icon-button",onClick:t[2]||(t[2]=function(t){return e.copyJson()}),title:"Copy JSON","aria-label":"Copy features.json to clipboard"},[Object(o["g"])(J,{class:"icon",icon:e.icons.copy},null,8,["icon"]),x]),Object(o["g"])("button",{disabled:!e.dataHasChanged()||!e.configIsValid()||(null===(V=e.hosting)||void 0===V||null===(P=V.status)||void 0===P?void 0:P.type)===e.HostingStatusType.ERROR,onClick:t[3]||(t[3]=function(t){return e.publishChanges()})},[Object(o["g"])(J,{class:"icon",icon:e.icons.upload},null,8,["icon"]),I],8,["disabled"])]),Object(o["g"])(_,{to:"/configuration",class:"config-link",onClick:t[4]||(t[4]=function(t){return e.goToConfig(t)})},{default:y((function(){return[Object(o["g"])("span",null,[Object(o["g"])(J,{icon:e.icons.settings,class:"logo"},null,8,["icon"]),N]),A]})),_:1})]),Object(o["g"])("h2",null,"Environments ("+Object(o["y"])(null===(T=e.environments)||void 0===T?void 0:T.length)+")",1),Object(o["g"])(L,{"item-label":"Environment",namedRoute:"Environment",list:e.environments,onItemAdded:e.addEnvironment,onItemRemoved:e.removeEnvironment,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"]),R,Object(o["g"])("h2",null,"Features ("+Object(o["y"])(null===(H=e.features)||void 0===H?void 0:H.length)+")",1),Object(o["g"])(L,{"item-label":"Feature",namedRoute:"Feature",list:e.features,onItemAdded:e.addFeature,onItemRemoved:e.removeFeature,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"])],2)})),P=(n("b0c0"),Object(o["G"])("data-v-c50850ac"));Object(o["s"])("data-v-c50850ac");var T={class:"manage-list"},H={class:"input-button-combo"},_={type:"submit"},J={class:"list"},L={class:"item-name"};Object(o["q"])();var D=P((function(e,t,n,a,r,i){var c=Object(o["w"])("Icon"),s=Object(o["w"])("router-link");return Object(o["p"])(),Object(o["d"])("div",T,[Object(o["g"])("form",{onSubmit:t[2]||(t[2]=Object(o["F"])((function(t){return e.addItem()}),["prevent"]))},[Object(o["g"])("label",null," Add "+Object(o["y"])(e.itemLabel),1),Object(o["g"])("div",H,[Object(o["E"])(Object(o["g"])("input",{placeholder:"Add "+e.itemLabel,type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputText=t}),ref:"inputField"},null,8,["placeholder"]),[[o["B"],e.inputText]]),Object(o["g"])("button",_,[Object(o["g"])(c,{icon:e.icons.plus},null,8,["icon"])])])],32),Object(o["g"])("ul",J,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["v"])(e.list,(function(t){return Object(o["p"])(),Object(o["d"])("li",{key:null===t||void 0===t?void 0:t.name,class:"item"},[Object(o["g"])(s,{to:{name:e.namedRoute,params:{name:t.name}},class:"item-link",title:null===t||void 0===t?void 0:t.name},{default:P((function(){return[Object(o["g"])("h3",L,Object(o["y"])(null===t||void 0===t?void 0:t.name),1)]})),_:2},1032,["to","title"]),Object(o["g"])("button",{class:"delete-button",onClick:function(n){return e.removeItem(t)}},[Object(o["g"])(c,{icon:e.icons.remove},null,8,["icon"])],8,["onClick"])])})),128))])])})),$=n("3698"),B=n("3eba"),M=Object(o["h"])({name:"ManageList",data:function(){return{inputText:"",icons:{plus:$["a"],remove:B["a"]}}},props:{itemLabel:String,list:Array,namedRoute:String},components:{Icon:v["a"]},methods:{addItem:function(){this.inputText&&(this.$emit("item-added",{name:this.inputText}),this.inputText=null)},removeItem:function(e){this.$emit("item-removed",e)}}});n("f539");M.render=D,M.__scopeId="data-v-c50850ac";var K,G=M,q=n("5502"),U=n("e6ce"),z=n("9f5f"),W=n("5f62"),Q=n("ef19"),X=n("21a6"),Y=n("d576"),Z=(n("99af"),n("4160"),n("d3b7"),n("159b"),n("d4ec")),ee=n("bee2"),te=n("4a9d"),ne=n("bc3a"),oe=n.n(ne),ae=function(){function e(){Object(Z["a"])(this,e)}return Object(ee["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="https://".concat(e.bucketName,".s3.amazonaws.com/features.json");return oe.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.region||!e.bucketName||!e.accessKeyId||!e.secretAccessKey)}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.uploadWithOldSDK(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"uploadWithOldSDK",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new te["S3"]({credentials:{accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey}}),a={ACL:"public-read",Body:JSON.stringify(t),Bucket:n.bucketName,Key:"features.json"},e.next=4,o.putObject(a).promise().catch((function(e){console.log(e,e.stack)}));case 4:return r=e.sent,console.log("Success: ",r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),re=(n("c19f"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("6bd1")),ie=function(){function e(){Object(Z["a"])(this,e)}return Object(ee["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="".concat(e.remoteUrl,"features.json");return oe.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.remoteUrl||!e.container||!e.storageAccount||!e.sharedAccessSignature)}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,r,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o=new re["a"](n.sharedAccessSignature),a=o.getContainerClient(n.container),r=a.getBlockBlobClient("features.json"),i=JSON.stringify(t),c=new ArrayBuffer(i.length),s=new Uint8Array(c),u=0,l=i.length;u<l;u++)s[u]=i.charCodeAt(u);return e.abrupt("return",r.uploadData(c));case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ce=function(){function e(){Object(Z["a"])(this,e)}return Object(ee["a"])(e,null,[{key:"fetchFeatures",value:function(e){throw new Error("fetchFeatures not implemented")}},{key:"isConfigValid",value:function(e){throw new Error("isConfigValid is not implemented.")}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Gcloud upload not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),se=n("d485"),ue=function(){function e(){Object(Z["a"])(this,e)}return Object(ee["a"])(e,null,[{key:"fetchFeatures",value:function(e){}},{key:"isConfigValid",value:function(e){return!0}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.a.post("https://storage.googleapis.com/upload/storage/v1/b/".concat(n.bucketName,"/o?name=features.json&uploadType=media&key=").concat(n.apiKey),t).then((function(e){return console.log({result:e}),e}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"writeWritableStream",value:function(e,t){return new Promise((function(n,o){console.log("made it into writeWriteable"),se["Readable"].from(t).pipe(e).on("error",(function(e){console.log("error in stream"),o(e)})).on("finish",(function(){console.log("stream finished"),n("success")}))}))}}]),e}();(function(e){e["NORMAL"]="normal",e["ERROR"]="error",e["WARNING"]="warning"})(K||(K={}));var le=function(){function e(){Object(Z["a"])(this,e)}return Object(ee["a"])(e,null,[{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.provider||!n.config){e.next=5;break}return o=this.adapters[n.provider],e.abrupt("return",o.upload(t,n.config));case 5:throw new Error("No config.provider passed to upload");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"formatPayloadFromState",value:function(e){var t={environments:{}};return e.environments.forEach((function(n){t.environments[n.name]={untagged:{}},e.features.forEach((function(o){var a=Object(b["a"])(Object(b["a"])({},e.featuresSettings["".concat(o.name,"/").concat(n.name,"/").concat(o.type)]),{},{type:o.type});t.environments[n.name].untagged[o.name]=Object(b["a"])({},a)}))})),t}},{key:"extractStateFromPayload",value:function(e){throw new Error("Method not implemented")}},{key:"isConfigValid",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.isConfigValid(e.config)}return console.log("No Adapter"),!1}},{key:"fetchExistingFeatures",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.fetchFeatures(e.config)}return console.log("No Adapter"),Promise.resolve(!1)}}]),e}();le.adapters={s3:ae,azure:ie,gcloud:ce,firebase:ue};var de=Object(o["h"])({name:"Sidebar",data:function(){return{HostingStatusType:K,icons:{settings:U["a"],upload:z["a"],download:W["a"],copy:Q["a"]}}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(q["d"])("app",["environments","features","hosting"])),Object(q["d"])("ui",["sidebarShowing"])),Object(q["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(q["b"])("app",["addEnvironment","removeEnvironment","addFeature","removeFeature"])),Object(q["b"])("ui",["toggleSidebarShowing","setSidebarShowing"])),{},{goToConfig:function(e){console.log("event",e),e.preventDefault(),this.$router.push("/configuration"),this.toggleSidebarShowing()},publishChanges:function(){var e=this.$store.state.app,t=le.formatPayloadFromState(e);le.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},exportJson:function(){var e=this.$store.state.app,t=le.formatPayloadFromState(e);Object(X["saveAs"])(new Blob([JSON.stringify(t)],{type:"application/json"}),"features.json")},copyJson:function(){var e=this,t=this.$store.state.app,n=le.formatPayloadFromState(t);Y["a"](JSON.stringify(n,null,2));var o=this.$store.state.app.hosting.status;console.log("current",JSON.parse(JSON.stringify(o)));var a="Config copied to clipboard.";this.$store.dispatch("app/setHostingStatus",{message:a,type:K.NORMAL}),setTimeout((function(){var t=e.$store.state.app.hosting.status;console.log("latest",JSON.parse(JSON.stringify(t))),t.message===a&&e.$store.dispatch("app/setHostingStatus",Object(b["a"])({},o))}),3e3)}}),components:{ManageList:G,Icon:v["a"]}});n("1ce2");de.render=V,de.__scopeId="data-v-9358492c";var fe=de,ge=Object(o["h"])({name:"App",data:function(){return{HostingStatusType:K,showing:!1,icons:{flag:j["a"],openMenu:h["a"],closeMenu:O["a"]},fetchInterval:null}},created:function(){this.fetchInterval=setInterval(this.synchronize,3e4),this.synchronize()},unmounted:function(){this.fetchInterval&&clearInterval(this.fetchInterval)},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(q["d"])("app",["hosting"])),Object(q["d"])("ui",["sidebarShowing"])),Object(q["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(b["a"])(Object(b["a"])({},Object(q["b"])("ui",["toggleSidebarShowing"])),{},{publishChanges:function(){var e=this.$store.state.app,t=le.formatPayloadFromState(e);le.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},synchronize:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.getters["app/configIsValid"](),!n){t.next=7;break}return t.next=4,le.fetchExistingFeatures(e.$store.state.app.hosting);case 4:o=t.sent,console.log({result:o}),e.$store.dispatch("app/setExistingFeatures",o.data);case 7:case"end":return t.stop()}}),t)})))()}}),components:{Sidebar:fe,Icon:v["a"]}});n("5469");ge.render=p;var pe=ge,me=n("9483");Object(me["a"])("".concat("/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var be=n("6c02"),ve=Object(o["G"])("data-v-2e268cc4");Object(o["s"])("data-v-2e268cc4");var he={class:"home"},Oe=Object(o["g"])("p",{class:"getting-started-intro prose"}," Getting started is easy. ",-1),je=Object(o["g"])("ol",{class:"getting-started-list"},[Object(o["g"])("li",null,"First, enter your hosting configuration. (S3, Azure, GCP, etc.)"),Object(o["g"])("li",null," Next, start creating your environments. (dev, staging, prod, etc.) "),Object(o["g"])("li",null,"Then, create your feature flags.")],-1);Object(o["q"])();var ye=ve((function(e,t,n,a,r,i){var c=Object(o["w"])("Icon");return Object(o["p"])(),Object(o["d"])("div",he,[Oe,Object(o["g"])(c,{icon:e.icons.flag,class:"logo"},null,8,["icon"]),je])})),we=(n("7db0"),n("c975"),n("a434"),n("f499")),Se=n("612d"),ke={namespaced:!0,state:{features:[],featuresSettings:{},environments:[],hosting:{provider:null,config:null,status:null},defaultEnvironmentFeatureValues:{},existingFeatures:null},getters:{environmentByName:function(e){return function(t){return e.environments.find((function(e){return e.name===t}))}},featureByName:function(e){return function(t){return e.features.find((function(e){return e.name===t}))}},getFeatureSettings:function(e){return function(t,n,o){var a="".concat(t.name,"/").concat(n.name,"/").concat(o),r=e.featuresSettings[a];return r}},configIsValid:function(e){return function(){try{return le.isConfigValid(e.hosting)}catch(t){return console.log("Error running isConfigValid",t),!1}}},dataHasChanged:function(e){return function(){return console.log("foo",le.formatPayloadFromState(e),JSON.parse(JSON.stringify(e.existingFeatures))),!Object(Se["isEqual"])(e.existingFeatures,le.formatPayloadFromState(e))}}},mutations:{addFeature:function(e,t){e.features.push(Object(b["a"])(Object(b["a"])({},t),{},{type:"toggle"})),e.environments.forEach((function(n){e.featuresSettings["".concat(t.name,"/").concat(n.name,"/toggle")]={value:e.defaultEnvironmentFeatureValues[n.name].toggle["value"]}}))},removeFeature:function(e,t){var n=e.features.indexOf(t);e.features.splice(n,1)},editFeature:function(e,t){var n=t.previous,o=t.current;if(o.type){var a=e.features.indexOf(n);e.features[a]=Object(b["a"])(Object(b["a"])({},n),o),e.environments.forEach((function(t){var n={},a=e.featuresSettings["".concat(o.name,"/").concat(t.name,"/").concat(o.type)];a&&(a["value"]||0===a["value"])||(n["value"]=e.defaultEnvironmentFeatureValues[t.name][o.type]["value"]),a&&("gradual"!==o.type||a["seed"]||0===a["seed"])||(n["seed"]=e.defaultEnvironmentFeatureValues[t.name][o.type]["seed"]),e.featuresSettings["".concat(o.name,"/").concat(t.name,"/").concat(o.type)]=Object(b["a"])(Object(b["a"])({},a),n)}))}},addEnvironment:function(e,t){e.environments.push(t),e.defaultEnvironmentFeatureValues[t.name]={toggle:{type:we["VexillaFeatureType"].TOGGLE,value:!1},gradual:{type:we["VexillaFeatureType"].GRADUAL,seed:.01,value:0},selective:{type:we["VexillaFeatureType"].SELECTIVE}}},removeEnvironment:function(e,t){var n=e.environments.indexOf(t);e.environments.splice(n,1)},editEnvironment:function(e,t){var n=t.previous,o=t.current,a=e.environments.indexOf(n);e.features.forEach((function(t){e.featuresSettings["".concat(t.name,"/").concat(o.name,"/").concat(t.type)]=e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)],delete e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)]})),e.environments[a]=Object(b["a"])(Object(b["a"])({},n),o)},setFeatureSettings:function(e,t){var n=t.feature,o=t.environment,a=t.type,r=t.settings,i=e.featuresSettings["".concat(n.name,"/").concat(o.name,"/").concat(a)];e.featuresSettings["".concat(n.name,"/").concat(o.name,"/").concat(a)]=Object(b["a"])(Object(b["a"])({},i),r)},updateHostingProvider:function(e,t){e.hosting.provider=t},updateHostingConfig:function(e,t){e.hosting.config=t},updateDefaultFeatureValues:function(e,t){var n=t.environment,o=t.defaultValues;e.defaultEnvironmentFeatureValues[n.name]=o},setHostingStatus:function(e,t){e.hosting.status=t},setExistingFeatures:function(e,t){e.existingFeatures=t}},actions:{addFeature:function(e,t){e.commit("addFeature",t)},removeFeature:function(e,t){e.commit("removeFeature",t)},editFeature:function(e,t){e.commit("editFeature",t)},addEnvironment:function(e,t){e.commit("addEnvironment",t)},removeEnvironment:function(e,t){e.commit("removeEnvironment",t)},editEnvironment:function(e,t){e.commit("editEnvironment",t)},setFeatureSettings:function(e,t){e.commit("setFeatureSettings",t)},updateHostingProvider:function(e,t){console.log({hostingProvider:t}),e.commit("updateHostingProvider",t)},updateHostingConfig:function(e,t){e.commit("updateHostingConfig",t)},updateDefaultEnvironmentValues:function(e,t){e.commit("updateDefaultFeatureValues",t)},setHostingStatus:function(e,t){console.log({status:t}),e.commit("setHostingStatus",t)},setExistingFeatures:function(e,t){e.commit("setExistingFeatures",t)}}},Ee={namespaced:!0,state:{},mutations:{setSidebarShowing:function(e,t){e.sidebarShowing=t},toggleSidebarShowing:function(e,t){e.sidebarShowing=!e.sidebarShowing}},actions:{setSidebarShowing:function(e,t){e.commit("setSidebarShowing",t)},toggleSidebarShowing:function(e){e.commit("toggleSidebarShowing")}}},Fe=n("0e44"),Ce=Object(q["a"])({modules:{app:ke,ui:Ee},plugins:[Object(Fe["a"])()]}),xe=Object(o["h"])({name:"Home",store:Ce,data:function(){return{icons:{flag:j["a"]}}},components:{Icon:v["a"]}});n("9d01");xe.render=ye,xe.__scopeId="data-v-2e268cc4";var Ie=xe,Ne=[{path:"/",name:"Home",component:Ie},{path:"/environments",name:"Environments",component:function(){return n.e("environments").then(n.bind(null,"336b"))}},{path:"/environment/:name",name:"Environment",component:function(){return n.e("environment").then(n.bind(null,"6ca2"))}},{path:"/features",name:"Features",component:function(){return n.e("features").then(n.bind(null,"ca845"))}},{path:"/feature/:name",name:"Feature",component:function(){return n.e("feature").then(n.bind(null,"9a97"))}},{path:"/configuration",name:"Configuration",component:function(){return n.e("configuration").then(n.bind(null,"829a"))}}];console.log("NODE_ENV","production"),console.log("BASE_URL","/app/");var Ae=Object(be["a"])({history:Object(be["b"])("/app/"),routes:Ne}),Re=Ae;n("84df");Object(o["c"])(pe).use(Ce).use(Re).mount("#app")},f539:function(e,t,n){"use strict";n("0490")}});
//# sourceMappingURL=app.019f784c.js.map