{"version":3,"sources":["webpack:///./src/views/Environment.vue","webpack:///./src/views/Environment.vue?e5dc","webpack:///./src/views/Environment.vue?351f","webpack:///./src/views/Environment.vue?31fa"],"names":["class","environment","name","type","save","disabled","updateDefaultEnvironmentValues","toggled","$event","step","min","max","value","id","randomizeSeed","data","created","this","$router","replace","methods","$store","dispatch","previous","current","push","randomValue","Math","floor","random","featureType","propName","console","log","defaultValues","defaultEnvironmentFeatureValues","watch","newEnvironment","oldEnvironment","computed","getters","$route","params","components","Toggle","render"],"mappings":"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","file":"js/environment.a90c8f67.js","sourcesContent":["<template>\n  <div class=\"environment-page\">\n    <h1 class=\"title\">Environment: {{ environment?.name }}</h1>\n\n    <div>\n      <div>\n        <label>\n          Name\n          <input v-model=\"name\" type=\"text\" />\n        </label>\n      </div>\n\n      <button\n        class=\"save-button\"\n        @click=\"save()\"\n        :disabled=\"environment?.name === name\"\n      >\n        Save\n      </button>\n    </div>\n    <hr />\n    <h2>Default Values</h2>\n    <div>\n      <h3>Toggle</h3>\n      <div class=\"form-section inline-field\">\n        <div class=\"toggle-wrapper field\">\n          <button\n            class=\"text-button\"\n            @click=\"updateDefaultEnvironmentValues(false, 'toggle')\"\n          >\n            Off\n          </button>\n          <Toggle\n            :toggled=\"\n              defaultEnvironmentFeatureValues[environment?.name]?.toggle\n                ?.value || false\n            \"\n            @toggled=\"updateDefaultEnvironmentValues($event, 'toggle')\"\n          />\n          <button\n            class=\"text-button\"\n            @click=\"updateDefaultEnvironmentValues(true, 'toggle')\"\n          >\n            On\n          </button>\n        </div>\n      </div>\n\n      <h3>Gradual</h3>\n      <div class=\"form-section inline-field\">\n        <div>\n          <div class=\"seed-wrapper\">\n            <div class=\"row\">\n              <h4>Seed: {{ environment?.name }}</h4>\n              <input\n                class=\"feature-input\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0.01\"\n                max=\".099\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.seed\n                \"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'seed'\n                  )\n                \"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">.01</label>\n              <input\n                class=\"feature-slider left\"\n                id=\"{{environment}}-seed\"\n                name=\"{{environment}}-seed\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.seed * 100\n                \"\n                type=\"range\"\n                min=\"1\"\n                max=\"99\"\n                step=\"1\"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value / 100,\n                    'gradual',\n                    'seed'\n                  )\n                \"\n              />\n              <label class=\"slider-label\">.99</label>\n              <button class=\"right mini\" @click=\"randomizeSeed(environment)\">\n                Randomize\n              </button>\n            </div>\n          </div>\n          <hr />\n          <div class=\"threshold-wrapper\">\n            <div class=\"row\">\n              <h4>Threshold:</h4>\n              <input\n                class=\"feature-input\"\n                type=\"number\"\n                step=\"1\"\n                min=\"0\"\n                max=\"100\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.value\n                \"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'value'\n                  )\n                \"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">1</label>\n              <input\n                id=\"{{environment}}-threshold\"\n                class=\"feature-slider\"\n                name=\"{{environment}}-threshold\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.value\n                \"\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'value'\n                  )\n                \"\n              />\n              <label class=\"slider-label\">100</label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <h3 v-if=\"false\">Selective</h3>\n      <div v-if=\"false\" class=\"form-section\">\n        <div>selective</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"postcss\">\n.environment-page {\n  @apply max-w-screen-sm m-auto;\n}\n\n.title {\n  @apply text-left;\n}\n\n.save-button {\n  @apply mt-4;\n}\n</style>\n\n<script lang=\"ts\">\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport { mapGetters, mapState } from \"vuex\";\nimport Toggle from \"@/components/Toggle.vue\";\nimport { Environment, VexillaFeatureTypeString } from \"@/store/app\";\nimport { VexillaFeatureType } from \"@vexilla/client\";\n\nexport default defineComponent({\n  name: \"Environment\",\n  data() {\n    return {\n      name: null as string | null,\n    };\n  },\n  created() {\n    if (!this.environment) {\n      this.$router.replace(\"/\");\n    } else {\n      this.name = this.environment?.name;\n    }\n  },\n  methods: {\n    save() {\n      this.$store.dispatch(\"app/editEnvironment\", {\n        previous: this.environment,\n        current: {\n          ...this.environment,\n          name: this.name,\n        },\n      });\n\n      this.$router.push(`/environment/${this.name}`);\n    },\n\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.updateDefaultEnvironmentValues(randomValue / 100, \"gradual\", \"seed\");\n    },\n\n    updateDefaultEnvironmentValues(\n      value: boolean | number,\n      featureType: VexillaFeatureTypeString,\n      propName = \"value\"\n    ) {\n      console.log(\"update value\", value);\n\n      this.$store.dispatch(\"app/updateDefaultEnvironmentValues\", {\n        environment: this.environment,\n        defaultValues: {\n          ...this.defaultEnvironmentFeatureValues[this.environment.name],\n          [featureType]: {\n            ...this.defaultEnvironmentFeatureValues[this.environment.name][\n              featureType\n            ],\n            [propName]: value,\n          },\n        },\n      });\n    },\n  },\n  watch: {\n    environment(newEnvironment, oldEnvironment) {\n      this.name = newEnvironment?.name;\n    },\n  },\n  computed: {\n    ...mapState(\"app\", [\n      \"hosting\",\n      \"features\",\n      \"defaultEnvironmentFeatureValues\",\n    ]),\n    environment() {\n      const environment = this.$store.getters[\"app/environmentByName\"](\n        this.$route.params.name\n      );\n      return environment;\n    },\n  },\n  components: { Toggle },\n});\n</script>\n","\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport { mapGetters, mapState } from \"vuex\";\nimport Toggle from \"@/components/Toggle.vue\";\nimport { Environment, VexillaFeatureTypeString } from \"@/store/app\";\nimport { VexillaFeatureType } from \"@vexilla/client\";\n\nexport default defineComponent({\n  name: \"Environment\",\n  data() {\n    return {\n      name: null as string | null,\n    };\n  },\n  created() {\n    if (!this.environment) {\n      this.$router.replace(\"/\");\n    } else {\n      this.name = this.environment?.name;\n    }\n  },\n  methods: {\n    save() {\n      this.$store.dispatch(\"app/editEnvironment\", {\n        previous: this.environment,\n        current: {\n          ...this.environment,\n          name: this.name,\n        },\n      });\n\n      this.$router.push(`/environment/${this.name}`);\n    },\n\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.updateDefaultEnvironmentValues(randomValue / 100, \"gradual\", \"seed\");\n    },\n\n    updateDefaultEnvironmentValues(\n      value: boolean | number,\n      featureType: VexillaFeatureTypeString,\n      propName = \"value\"\n    ) {\n      console.log(\"update value\", value);\n\n      this.$store.dispatch(\"app/updateDefaultEnvironmentValues\", {\n        environment: this.environment,\n        defaultValues: {\n          ...this.defaultEnvironmentFeatureValues[this.environment.name],\n          [featureType]: {\n            ...this.defaultEnvironmentFeatureValues[this.environment.name][\n              featureType\n            ],\n            [propName]: value,\n          },\n        },\n      });\n    },\n  },\n  watch: {\n    environment(newEnvironment, oldEnvironment) {\n      this.name = newEnvironment?.name;\n    },\n  },\n  computed: {\n    ...mapState(\"app\", [\n      \"hosting\",\n      \"features\",\n      \"defaultEnvironmentFeatureValues\",\n    ]),\n    environment() {\n      const environment = this.$store.getters[\"app/environmentByName\"](\n        this.$route.params.name\n      );\n      return environment;\n    },\n  },\n  components: { Toggle },\n});\n","import { render } from \"./Environment.vue?vue&type=template&id=2580aa2c\"\nimport script from \"./Environment.vue?vue&type=script&lang=ts\"\nexport * from \"./Environment.vue?vue&type=script&lang=ts\"\n\nimport \"./Environment.vue?vue&type=style&index=0&id=2580aa2c&lang=postcss\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Environment.vue?vue&type=style&index=0&id=2580aa2c&lang=postcss\""],"sourceRoot":""}