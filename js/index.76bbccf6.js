(function(e){function t(t){for(var o,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={index:0},r={index:0},i=[];function c(e){return s.p+"js/"+({configuration:"configuration",environment:"environment",environments:"environments",feature:"feature",features:"features"}[e]||e)+"."+{configuration:"47e3ec82",environment:"7dd6174c",environments:"e1168462",feature:"b133fbd0",features:"0b09f73c"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={configuration:1,environment:1,environments:1,feature:1,features:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({configuration:"configuration",environment:"environment",environments:"environments",feature:"feature",features:"features"}[e]||e)+"."+{configuration:"2fbd6b9a",environment:"89072372",environments:"177647a3",feature:"77d46f4f",features:"177647a3"}[e]+".css",r=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===o||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=r;var g=document.getElementsByTagName("head")[0];g.appendChild(f)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/app/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;i.push([2,"chunk-vendors"]),n()})({0:function(e,t){},"0490":function(e,t,n){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},2:function(e,t,n){e.exports=n("cd49")},"2c2c":function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},"84df":function(e,t,n){},9:function(e,t){},"9d01":function(e,t,n){"use strict";n("2c2c")},b3c9:function(e,t,n){"use strict";n("c6fa")},c6fa:function(e,t,n){},c7b3:function(e,t,n){"use strict";n("cc1e")},cc1e:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={class:"header"},r=Object(o["f"])('<a href="/" class="header-link"><h1 class="header-heading"><span class="logo-wrapper"><img class="logo-image" src="img/logo-white.svg"></span><span class="app-title"> Vexilla </span></h1></a><nav class="header-nav"><a class="nav-link" href="/documentation">Documentation </a></nav>',2),i={class:"publish-row"},c={class:"status-wrapper"},s=Object(o["h"])("span",{class:"status-message error"}," Config is invalid ",-1),u={key:0,class:"status-message"},l={key:1,class:"status-message blue"},d={class:"layout"},f={class:"page-wrapper"};function g(e,t,n,g,p,m){var v,b,h,O,j,y,S,w,k,E,F,x,C=Object(o["x"])("router-link"),I=Object(o["x"])("Icon"),N=Object(o["x"])("Sidebar"),A=Object(o["x"])("router-view");return Object(o["q"])(),Object(o["d"])(o["a"],null,[Object(o["h"])("header",a,[r,Object(o["h"])("div",i,[Object(o["h"])("div",c,[Object(o["h"])("div",null,[e.configIsValid()?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])(C,{key:0,class:"status-link",to:"/configuration"},{default:Object(o["E"])((function(){return[s]})),_:1}))]),e.dataHasChanged()?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("span",u," No changes to push. ")),e.dataHasChanged()?(Object(o["q"])(),Object(o["d"])("span",l," Changes to push. ")):Object(o["e"])("",!0),null===(v=e.hosting)||void 0===v||null===(b=v.status)||void 0===b||!b.message||null!==(h=e.hosting)&&void 0!==h&&null!==(O=h.status)&&void 0!==O&&O.route?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("span",{key:2,class:["status-message",null===(j=e.hosting)||void 0===j||null===(y=j.status)||void 0===y?void 0:y.type]},Object(o["z"])(null===(S=e.hosting)||void 0===S||null===(w=S.status)||void 0===w?void 0:w.message),3)),null!==(k=e.hosting)&&void 0!==k&&null!==(E=k.status)&&void 0!==E&&E.route?(Object(o["q"])(),Object(o["d"])(C,{key:3,class:"status-link",to:null===(F=e.hosting)||void 0===F||null===(x=F.status)||void 0===x?void 0:x.route},{default:Object(o["E"])((function(){var t,n,a,r;return[Object(o["h"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(o["z"])(null===(a=e.hosting)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.message),3)]})),_:1},8,["to"])):Object(o["e"])("",!0)]),Object(o["h"])("button",{class:"mobile-menu-button",onClick:t[1]||(t[1]=function(){return e.toggleSidebarShowing&&e.toggleSidebarShowing.apply(e,arguments)})},[e.sidebarShowing?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])(I,{key:0,icon:e.icons.openMenu},null,8,["icon"])),e.sidebarShowing?(Object(o["q"])(),Object(o["d"])(I,{key:1,icon:e.icons.closeMenu},null,8,["icon"])):Object(o["e"])("",!0)])])]),Object(o["h"])("div",d,[Object(o["h"])(N),Object(o["h"])("div",f,[Object(o["h"])(A)])])],64)}n("96cf");var p=n("1da1"),m=n("5530"),v=n("c850"),b=n("509f"),h=n("1294"),O=n("2c29"),j=Object(o["H"])("data-v-171daef0");Object(o["t"])("data-v-171daef0");var y={class:"toolbar"},S={class:"status-wrapper"},w=Object(o["h"])("span",{class:"status-message error"}," Config is invalid ",-1),k={key:0,class:"status-message"},E={class:"publish-row"},F=Object(o["h"])("span",{class:"sr-only","aria-hidden":"true"},"Download features.json",-1),x=Object(o["h"])("span",{class:"sr-only","aria-hidden":"true"}," Copy features.json to clipboard ",-1),C=Object(o["g"])(" Publish "),I=Object(o["g"])(" Configuration "),N=Object(o["h"])("span",null," > ",-1),A=Object(o["h"])("hr",{class:"separator"},null,-1);Object(o["r"])();var R=j((function(e,t,n,a,r,i){var c,s,u,l,d,f,g,p,m,v,b,h,O,R,V,H,P,T,_=Object(o["x"])("router-link"),q=Object(o["x"])("Icon"),J=Object(o["x"])("ManageList");return Object(o["q"])(),Object(o["d"])("div",{class:["sidebar",{showing:e.sidebarShowing}]},[Object(o["h"])("div",y,[Object(o["h"])("div",S,[Object(o["h"])("div",null,[e.configIsValid()?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])(_,{key:0,class:"status-link",to:"/configuration"},{default:j((function(){return[w]})),_:1}))]),e.dataHasChanged()?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("span",k," No changes to push. ")),null===(c=e.hosting)||void 0===c||null===(s=c.status)||void 0===s||!s.message||null!==(u=e.hosting)&&void 0!==u&&null!==(l=u.status)&&void 0!==l&&l.route?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("span",{key:1,class:["status-message",null===(d=e.hosting)||void 0===d||null===(f=d.status)||void 0===f?void 0:f.type]},Object(o["z"])(null===(g=e.hosting)||void 0===g||null===(p=g.status)||void 0===p?void 0:p.message),3)),null!==(m=e.hosting)&&void 0!==m&&null!==(v=m.status)&&void 0!==v&&v.message&&null!==(b=e.hosting)&&void 0!==b&&null!==(h=b.status)&&void 0!==h&&h.route?(Object(o["q"])(),Object(o["d"])(_,{key:2,class:"status-link",to:null===(O=e.hosting)||void 0===O||null===(R=O.status)||void 0===R?void 0:R.route},{default:j((function(){var t,n,a,r;return[Object(o["h"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(o["z"])(null===(a=e.hosting)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.message),3)]})),_:1},8,["to"])):Object(o["e"])("",!0)]),Object(o["h"])("div",E,[Object(o["h"])("button",{class:"icon-button",onClick:t[1]||(t[1]=function(t){return e.exportJson()}),title:"Download JSON","aria-label":"Download features.json"},[Object(o["h"])(q,{class:"icon",icon:e.icons.download},null,8,["icon"]),F]),Object(o["h"])("button",{class:"icon-button",onClick:t[2]||(t[2]=function(t){return e.copyJson()}),title:"Copy JSON","aria-label":"Copy features.json to clipboard"},[Object(o["h"])(q,{class:"icon",icon:e.icons.copy},null,8,["icon"]),x]),Object(o["h"])("button",{disabled:!e.dataHasChanged()||!e.configIsValid()||(null===(V=e.hosting)||void 0===V||null===(H=V.status)||void 0===H?void 0:H.type)===e.HostingStatusType.ERROR,onClick:t[3]||(t[3]=function(t){return e.publishChanges()})},[Object(o["h"])(q,{class:"icon",icon:e.icons.upload},null,8,["icon"]),C],8,["disabled"])]),Object(o["h"])(_,{to:"/configuration",class:"config-link",onClick:t[4]||(t[4]=function(t){return e.goToConfig(t)})},{default:j((function(){return[Object(o["h"])("span",null,[Object(o["h"])(q,{icon:e.icons.settings,class:"logo"},null,8,["icon"]),I]),N]})),_:1})]),Object(o["h"])("h2",null,"Environments ("+Object(o["z"])(null===(P=e.environments)||void 0===P?void 0:P.length)+")",1),Object(o["h"])(J,{"item-label":"Environment",namedRoute:"Environment",list:e.environments,onItemAdded:e.addEnvironment,onItemRemoved:e.removeEnvironment,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"]),A,Object(o["h"])("h2",null,"Features ("+Object(o["z"])(null===(T=e.features)||void 0===T?void 0:T.length)+")",1),Object(o["h"])(J,{"item-label":"Feature",namedRoute:"Feature",list:e.features,onItemAdded:e.addFeature,onItemRemoved:e.removeFeature,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"])],2)})),V=(n("b0c0"),Object(o["H"])("data-v-c50850ac"));Object(o["t"])("data-v-c50850ac");var H={class:"manage-list"},P={class:"input-button-combo"},T={type:"submit"},_={class:"list"},q={class:"item-name"};Object(o["r"])();var J=V((function(e,t,n,a,r,i){var c=Object(o["x"])("Icon"),s=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",H,[Object(o["h"])("form",{onSubmit:t[2]||(t[2]=Object(o["G"])((function(t){return e.addItem()}),["prevent"]))},[Object(o["h"])("label",null," Add "+Object(o["z"])(e.itemLabel),1),Object(o["h"])("div",P,[Object(o["F"])(Object(o["h"])("input",{placeholder:"Add "+e.itemLabel,type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputText=t}),ref:"inputField"},null,8,["placeholder"]),[[o["C"],e.inputText]]),Object(o["h"])("button",T,[Object(o["h"])(c,{icon:e.icons.plus},null,8,["icon"])])])],32),Object(o["h"])("ul",_,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(e.list,(function(t){return Object(o["q"])(),Object(o["d"])("li",{key:null===t||void 0===t?void 0:t.name,class:"item"},[Object(o["h"])(s,{to:{name:e.namedRoute,params:{name:t.name}},class:"item-link",title:null===t||void 0===t?void 0:t.name},{default:V((function(){return[Object(o["h"])("h3",q,Object(o["z"])(null===t||void 0===t?void 0:t.name),1)]})),_:2},1032,["to","title"]),Object(o["h"])("button",{class:"delete-button",onClick:function(n){return e.removeItem(t)}},[Object(o["h"])(c,{icon:e.icons.remove},null,8,["icon"])],8,["onClick"])])})),128))])])})),L=n("3698"),$=n("3eba"),D=Object(o["i"])({name:"ManageList",data:function(){return{inputText:"",icons:{plus:L["a"],remove:$["a"]}}},props:{itemLabel:String,list:Array,namedRoute:String},components:{Icon:v["a"]},methods:{addItem:function(){this.inputText&&(this.$emit("item-added",{name:this.inputText}),this.inputText=null)},removeItem:function(e){this.$emit("item-removed",e)}}});n("f539");D.render=J,D.__scopeId="data-v-c50850ac";var z,M=D,B=n("5502"),K=n("e6ce"),G=n("9f5f"),U=n("5f62"),W=n("ef19"),Q=n("21a6"),X=n("d576"),Y=(n("99af"),n("4160"),n("d3b7"),n("159b"),n("d4ec")),Z=n("bee2"),ee=n("4a9d"),te=n("bc3a"),ne=n.n(te),oe=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="https://".concat(e.bucketName,".s3.amazonaws.com/features.json");return ne.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.region||!e.bucketName||!e.accessKeyId||!e.secretAccessKey)}},{key:"upload",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.uploadWithOldSDK(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"uploadWithOldSDK",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new ee["S3"]({credentials:{accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey}}),a={ACL:"public-read",Body:JSON.stringify(t),Bucket:n.bucketName,Key:"features.json"},e.next=4,o.putObject(a).promise().catch((function(e){console.log(e,e.stack)}));case 4:return r=e.sent,console.log("Success: ",r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ae=(n("c19f"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("6bd1")),re=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="".concat(e.remoteUrl,"features.json");return ne.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.remoteUrl||!e.container||!e.storageAccount||!e.sharedAccessSignature)}},{key:"upload",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){var o,a,r,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o=new ae["a"](n.sharedAccessSignature),a=o.getContainerClient(n.container),r=a.getBlockBlobClient("features.json"),i=JSON.stringify(t),c=new ArrayBuffer(i.length),s=new Uint8Array(c),u=0,l=i.length;u<l;u++)s[u]=i.charCodeAt(u);return e.abrupt("return",r.uploadData(c));case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ie=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"fetchFeatures",value:function(e){throw new Error("fetchFeatures not implemented")}},{key:"isConfigValid",value:function(e){throw new Error("isConfigValid is not implemented.")}},{key:"upload",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Gcloud upload not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ce=n("d485"),se=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"fetchFeatures",value:function(e){}},{key:"isConfigValid",value:function(e){return!0}},{key:"upload",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("https://storage.googleapis.com/upload/storage/v1/b/".concat(n.bucketName,"/o?name=features.json&uploadType=media&key=").concat(n.apiKey),t).then((function(e){return console.log({result:e}),e}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"writeWritableStream",value:function(e,t){return new Promise((function(n,o){console.log("made it into writeWriteable"),ce["Readable"].from(t).pipe(e).on("error",(function(e){console.log("error in stream"),o(e)})).on("finish",(function(){console.log("stream finished"),n("success")}))}))}}]),e}();(function(e){e["NORMAL"]="normal",e["ERROR"]="error",e["WARNING"]="warning"})(z||(z={}));var ue=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"upload",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.provider||!n.config){e.next=5;break}return o=this.adapters[n.provider],e.abrupt("return",o.upload(t,n.config));case 5:throw new Error("No config.provider passed to upload");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"formatPayloadFromState",value:function(e){var t={environments:{}};return e.environments.forEach((function(n){t.environments[n.name]={untagged:{}},e.features.forEach((function(o){var a=Object(m["a"])(Object(m["a"])({},e.featuresSettings["".concat(o.name,"/").concat(n.name,"/").concat(o.type)]),{},{type:o.type});t.environments[n.name].untagged[o.name]=Object(m["a"])({},a)}))})),t}},{key:"extractStateFromPayload",value:function(e){throw new Error("Method not implemented")}},{key:"isConfigValid",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.isConfigValid(e.config)}return console.log("No Adapter"),!1}},{key:"fetchExistingFeatures",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.fetchFeatures(e.config)}return console.log("No Adapter"),Promise.resolve(!1)}}]),e}();ue.adapters={s3:oe,azure:re,gcloud:ie,firebase:se};var le=Object(o["i"])({name:"Sidebar",data:function(){return{HostingStatusType:z,icons:{settings:K["a"],upload:G["a"],download:U["a"],copy:W["a"]}}},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(B["d"])("app",["environments","features","hosting"])),Object(B["d"])("ui",["sidebarShowing"])),Object(B["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(B["b"])("app",["addEnvironment","removeEnvironment","addFeature","removeFeature"])),Object(B["b"])("ui",["toggleSidebarShowing","setSidebarShowing"])),{},{goToConfig:function(e){console.log("event",e),e.preventDefault(),this.$router.push("/configuration"),this.toggleSidebarShowing()},publishChanges:function(){var e=this.$store.state.app,t=ue.formatPayloadFromState(e);ue.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},exportJson:function(){var e=this.$store.state.app,t=ue.formatPayloadFromState(e);Object(Q["saveAs"])(new Blob([JSON.stringify(t)],{type:"application/json"}),"features.json")},copyJson:function(){var e=this,t=this.$store.state.app,n=ue.formatPayloadFromState(t);X["a"](JSON.stringify(n,null,2));var o=this.$store.state.app.hosting.status;console.log("current",JSON.parse(JSON.stringify(o)));var a="Config copied to clipboard.";this.$store.dispatch("app/setHostingStatus",{message:a,type:z.NORMAL}),setTimeout((function(){var t=e.$store.state.app.hosting.status;console.log("latest",JSON.parse(JSON.stringify(t))),t.message===a&&e.$store.dispatch("app/setHostingStatus",Object(m["a"])({},o))}),3e3)}}),components:{ManageList:M,Icon:v["a"]}});n("c7b3");le.render=R,le.__scopeId="data-v-171daef0";var de=le,fe=Object(o["i"])({name:"App",data:function(){return{HostingStatusType:z,showing:!1,icons:{flag:O["a"],openMenu:b["a"],closeMenu:h["a"]},fetchInterval:null}},created:function(){this.fetchInterval=setInterval(this.synchronize,3e4),this.synchronize()},unmounted:function(){this.fetchInterval&&clearInterval(this.fetchInterval)},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(B["d"])("app",["hosting"])),Object(B["d"])("ui",["sidebarShowing"])),Object(B["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(m["a"])(Object(m["a"])({},Object(B["b"])("ui",["toggleSidebarShowing"])),{},{publishChanges:function(){var e=this.$store.state.app,t=ue.formatPayloadFromState(e);ue.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},synchronize:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.getters["app/configIsValid"](),!n){t.next=7;break}return t.next=4,ue.fetchExistingFeatures(e.$store.state.app.hosting);case 4:o=t.sent,console.log({result:o}),e.$store.dispatch("app/setExistingFeatures",o.data);case 7:case"end":return t.stop()}}),t)})))()}}),components:{Sidebar:de,Icon:v["a"]}});n("b3c9");fe.render=g;var ge=fe,pe=n("9483");Object(pe["a"])("".concat("/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var me=n("6c02"),ve=Object(o["H"])("data-v-2e268cc4");Object(o["t"])("data-v-2e268cc4");var be={class:"home"},he=Object(o["h"])("p",{class:"getting-started-intro prose"}," Getting started is easy. ",-1),Oe=Object(o["h"])("ol",{class:"getting-started-list"},[Object(o["h"])("li",null,"First, enter your hosting configuration. (S3, Azure, GCP, etc.)"),Object(o["h"])("li",null," Next, start creating your environments. (dev, staging, prod, etc.) "),Object(o["h"])("li",null,"Then, create your feature flags.")],-1);Object(o["r"])();var je=ve((function(e,t,n,a,r,i){var c=Object(o["x"])("Icon");return Object(o["q"])(),Object(o["d"])("div",be,[he,Object(o["h"])(c,{icon:e.icons.flag,class:"logo"},null,8,["icon"]),Oe])})),ye=(n("7db0"),n("c975"),n("a434"),n("f499")),Se=n("612d"),we={namespaced:!0,state:{features:[],featuresSettings:{},environments:[],hosting:{provider:null,config:null,status:null},defaultEnvironmentFeatureValues:{},existingFeatures:null},getters:{environmentByName:function(e){return function(t){return e.environments.find((function(e){return e.name===t}))}},featureByName:function(e){return function(t){return e.features.find((function(e){return e.name===t}))}},getFeatureSettings:function(e){return function(t,n,o){var a="".concat(t.name,"/").concat(n.name,"/").concat(o),r=e.featuresSettings[a];return r}},configIsValid:function(e){return function(){try{return ue.isConfigValid(e.hosting)}catch(t){return console.log("Error running isConfigValid",t),!1}}},dataHasChanged:function(e){return function(){return console.log("foo",ue.formatPayloadFromState(e),JSON.parse(JSON.stringify(e.existingFeatures))),!Object(Se["isEqual"])(e.existingFeatures,ue.formatPayloadFromState(e))}}},mutations:{addFeature:function(e,t){e.features.push(Object(m["a"])(Object(m["a"])({},t),{},{type:"toggle"})),e.environments.forEach((function(n){e.featuresSettings["".concat(t.name,"/").concat(n.name,"/toggle")]={value:e.defaultEnvironmentFeatureValues[n.name].toggle["value"]}}))},removeFeature:function(e,t){var n=e.features.indexOf(t);e.features.splice(n,1)},editFeature:function(e,t){var n=t.previous,o=t.current;if(o.type){var a=e.features.indexOf(n);e.features[a]=Object(m["a"])(Object(m["a"])({},n),o),e.environments.forEach((function(t){var n={},a=e.featuresSettings["".concat(o.name,"/").concat(t.name,"/").concat(o.type)];a&&(a["value"]||0===a["value"])||(n["value"]=e.defaultEnvironmentFeatureValues[t.name][o.type]["value"]),a&&("gradual"!==o.type||a["seed"]||0===a["seed"])||(n["seed"]=e.defaultEnvironmentFeatureValues[t.name][o.type]["seed"]),e.featuresSettings["".concat(o.name,"/").concat(t.name,"/").concat(o.type)]=Object(m["a"])(Object(m["a"])({},a),n)}))}},addEnvironment:function(e,t){e.environments.push(t),e.defaultEnvironmentFeatureValues[t.name]={toggle:{type:ye["VexillaFeatureType"].TOGGLE,value:!1},gradual:{type:ye["VexillaFeatureType"].GRADUAL,seed:.01,value:0},selective:{type:ye["VexillaFeatureType"].SELECTIVE}}},removeEnvironment:function(e,t){var n=e.environments.indexOf(t);e.environments.splice(n,1)},editEnvironment:function(e,t){var n=t.previous,o=t.current,a=e.environments.indexOf(n);e.features.forEach((function(t){e.featuresSettings["".concat(t.name,"/").concat(o.name,"/").concat(t.type)]=e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)],delete e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)]})),e.environments[a]=Object(m["a"])(Object(m["a"])({},n),o)},setFeatureSettings:function(e,t){var n=t.feature,o=t.environment,a=t.type,r=t.settings,i=e.featuresSettings["".concat(n.name,"/").concat(o.name,"/").concat(a)];e.featuresSettings["".concat(n.name,"/").concat(o.name,"/").concat(a)]=Object(m["a"])(Object(m["a"])({},i),r)},updateHostingProvider:function(e,t){e.hosting.provider=t},updateHostingConfig:function(e,t){e.hosting.config=t},updateDefaultFeatureValues:function(e,t){var n=t.environment,o=t.defaultValues;e.defaultEnvironmentFeatureValues[n.name]=o},setHostingStatus:function(e,t){e.hosting.status=t},setExistingFeatures:function(e,t){e.existingFeatures=t}},actions:{addFeature:function(e,t){e.commit("addFeature",t)},removeFeature:function(e,t){e.commit("removeFeature",t)},editFeature:function(e,t){e.commit("editFeature",t)},addEnvironment:function(e,t){e.commit("addEnvironment",t)},removeEnvironment:function(e,t){e.commit("removeEnvironment",t)},editEnvironment:function(e,t){e.commit("editEnvironment",t)},setFeatureSettings:function(e,t){e.commit("setFeatureSettings",t)},updateHostingProvider:function(e,t){console.log({hostingProvider:t}),e.commit("updateHostingProvider",t)},updateHostingConfig:function(e,t){e.commit("updateHostingConfig",t)},updateDefaultEnvironmentValues:function(e,t){e.commit("updateDefaultFeatureValues",t)},setHostingStatus:function(e,t){console.log({status:t}),e.commit("setHostingStatus",t)},setExistingFeatures:function(e,t){e.commit("setExistingFeatures",t)}}},ke={namespaced:!0,state:{},mutations:{setSidebarShowing:function(e,t){e.sidebarShowing=t},toggleSidebarShowing:function(e,t){e.sidebarShowing=!e.sidebarShowing}},actions:{setSidebarShowing:function(e,t){e.commit("setSidebarShowing",t)},toggleSidebarShowing:function(e){e.commit("toggleSidebarShowing")}}},Ee=n("0e44"),Fe=Object(B["a"])({modules:{app:we,ui:ke},plugins:[Object(Ee["a"])()]}),xe=Object(o["i"])({name:"Home",store:Fe,data:function(){return{icons:{flag:O["a"]}}},components:{Icon:v["a"]}});n("9d01");xe.render=je,xe.__scopeId="data-v-2e268cc4";var Ce=xe,Ie=[{path:"/",name:"Home",component:Ce},{path:"/environments",name:"Environments",component:function(){return n.e("environments").then(n.bind(null,"336b"))}},{path:"/environment/:name",name:"Environment",component:function(){return n.e("environment").then(n.bind(null,"6ca2"))}},{path:"/features",name:"Features",component:function(){return n.e("features").then(n.bind(null,"ca845"))}},{path:"/feature/:name",name:"Feature",component:function(){return n.e("feature").then(n.bind(null,"9a97"))}},{path:"/configuration",name:"Configuration",component:function(){return n.e("configuration").then(n.bind(null,"829a"))}}];console.log("NODE_ENV","production"),console.log("BASE_URL","/app/");var Ne=Object(me["a"])({history:Object(me["b"])("/app/"),routes:Ie}),Ae=Ne;n("84df");Object(o["c"])(ge).use(Fe).use(Ae).mount("#app")},f539:function(e,t,n){"use strict";n("0490")}});
//# sourceMappingURL=index.76bbccf6.js.map