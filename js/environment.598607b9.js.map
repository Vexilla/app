{"version":3,"sources":["webpack:///./src/views/Environment.vue?6f8d","webpack:///./src/views/Environment.vue","webpack:///./src/views/Environment.vue?e5dc","webpack:///./src/views/Environment.vue?351f"],"names":["class","environment","name","type","save","disabled","updateDefaultEnvironmentValues","toggled","$event","step","min","max","value","id","randomizeSeed","color","data","created","this","$router","replace","methods","$store","dispatch","previous","current","push","randomValue","Math","floor","random","featureType","propName","console","log","defaultValues","defaultEnvironmentFeatureValues","watch","newEnvironment","oldEnvironment","computed","getters","$route","params","components","Toggle","render"],"mappings":"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","file":"js/environment.598607b9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Environment.vue?vue&type=style&index=0&id=ba56a82e&lang=postcss\"","<template>\n  <div class=\"environment-page\">\n    <h1 class=\"title\">Environment: {{ environment?.name }}</h1>\n\n    <div class= \"form-section\">\n      <div class=\"environment-title\">\n        <label>\n          Name\n          <input v-model=\"name\" type=\"text\" class=\"input\" />\n        </label>\n        <button\n        class=\"save-button\"\n        @click=\"save()\"\n        :disabled=\"environment?.name === name\"\n      >\n        Save\n      </button>\n      </div>\n    </div>\n    \n\n\n    <h2>Default Values</h2>\n    <div>\n      <h3>Toggle</h3>\n      <div class=\"form-section inline-field\">\n        <div class=\"toggle-wrapper field\">\n          <button\n            class=\"text-button\"\n            @click=\"updateDefaultEnvironmentValues(false, 'toggle')\"\n          >\n            Off\n          </button>\n          <Toggle\n            :toggled=\"\n              defaultEnvironmentFeatureValues[environment?.name]?.toggle\n                ?.value || false\n            \"\n            @toggled=\"updateDefaultEnvironmentValues($event, 'toggle')\"\n          />\n          <button\n            class=\"text-button\"\n            @click=\"updateDefaultEnvironmentValues(true, 'toggle')\"\n          >\n            On\n          </button>\n        </div>\n      </div>\n\n      <h3>Gradual</h3>\n      <div class=\"form-section inline-field\">\n        <div>\n          <div class=\"seed-wrapper\">\n            <div class=\"row\">\n              <h4>Seed:</h4>\n              <input\n                class=\"feature-input\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0.01\"\n                max=\".99\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.seed\n                \"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'seed'\n                  )\n                \"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">.01</label>\n              <input\n                class=\"feature-slider left\"\n                id=\"{{environment}}-seed\"\n                name=\"{{environment}}-seed\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.seed * 100\n                \"\n                type=\"range\"\n                min=\"1\"\n                max=\"99\"\n                step=\"1\"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value / 100,\n                    'gradual',\n                    'seed'\n                  )\n                \"\n              />\n              <label class=\"slider-label\">.99</label>\n              <button class=\"right mini\" @click=\"randomizeSeed(environment)\">\n                Randomize\n              </button>\n            </div>\n          </div>\n          <hr />\n          <div class=\"threshold-wrapper\">\n            <div class=\"row\">\n              <h4>Threshold:</h4>\n              <input\n                class=\"feature-input\"\n            \n                type=\"number\"\n                step=\"1\"\n                min=\"0\"\n                max=\"100\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.value\n                \"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'value'\n                  )\n                \"\n              />\n            </div>\n            <div class=\"row\">\n              <label class=\"slider-label\">1</label>\n              <input\n                id=\"{{environment}}-threshold\"\n                class=\"feature-slider\"\n                name=\"{{environment}}-threshold\"\n                :value=\"\n                  defaultEnvironmentFeatureValues[environment?.name]?.gradual\n                    ?.value\n                \"\n                color=\"orange\"\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"\n                  updateDefaultEnvironmentValues(\n                    +$event.target.value,\n                    'gradual',\n                    'value'\n                  )\n                \"\n              />\n              <label class=\"slider-label\">100</label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <h3 v-if=\"false\">Selective</h3>\n      <div v-if=\"false\" class=\"form-section\">\n        <div>selective</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"postcss\">\n.environment-page {\n  @apply  flex flex-col w-full bg-secondary-color rounded-lg justify-center;  \n}\n.environment-title{\n  @apply flex items-center border-2 border-primary-color }\n.environment-title > label {\n    @apply m-4 flex-grow\n}\n.feature-input{\n @apply ml-4\n}\n.title {\n  @apply text-center;\n}\n\n.save-button {\n  @apply mt-4\n}\n</style>\n\n<script lang=\"ts\">\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport { mapGetters, mapState } from \"vuex\";\nimport Toggle from \"@/components/Toggle.vue\";\nimport { Environment, VexillaFeatureTypeString } from \"@/store/app\";\nimport { VexillaFeatureType } from \"@vexilla/client\";\n\nexport default defineComponent({\n  name: \"Environment\",\n  data() {\n    return {\n      name: null as string | null,\n    };\n  },\n  created() {\n    if (!this.environment) {\n      this.$router.replace(\"/\");\n    } else {\n      this.name = this.environment?.name;\n    }\n  },\n  methods: {\n    save() {\n      this.$store.dispatch(\"app/editEnvironment\", {\n        previous: this.environment,\n        current: {\n          ...this.environment,\n          name: this.name,\n        },\n      });\n\n      this.$router.push(`/environment/${this.name}`);\n    },\n\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.updateDefaultEnvironmentValues(randomValue / 100, \"gradual\", \"seed\");\n    },\n\n    updateDefaultEnvironmentValues(\n      value: boolean | number,\n      featureType: VexillaFeatureTypeString,\n      propName = \"value\"\n    ) {\n      console.log(\"update value\", value);\n\n      this.$store.dispatch(\"app/updateDefaultEnvironmentValues\", {\n        environment: this.environment,\n        defaultValues: {\n          ...this.defaultEnvironmentFeatureValues[this.environment.name],\n          [featureType]: {\n            ...this.defaultEnvironmentFeatureValues[this.environment.name][\n              featureType\n            ],\n            [propName]: value,\n          },\n        },\n      });\n    },\n  },\n  watch: {\n    environment(newEnvironment, oldEnvironment) {\n      this.name = newEnvironment?.name;\n    },\n  },\n  computed: {\n    ...mapState(\"app\", [\n      \"hosting\",\n      \"features\",\n      \"defaultEnvironmentFeatureValues\",\n    ]),\n    environment() {\n      const environment = this.$store.getters[\"app/environmentByName\"](\n        this.$route.params.name\n      );\n      return environment;\n    },\n  },\n  components: { Toggle },\n});\n</script>\n","\nimport { Icon, InlineIcon } from \"@iconify/vue\";\nimport flagIcon from \"@iconify-icons/dashicons/flag\";\nimport { defineComponent } from \"vue\";\nimport { mapGetters, mapState } from \"vuex\";\nimport Toggle from \"@/components/Toggle.vue\";\nimport { Environment, VexillaFeatureTypeString } from \"@/store/app\";\nimport { VexillaFeatureType } from \"@vexilla/client\";\n\nexport default defineComponent({\n  name: \"Environment\",\n  data() {\n    return {\n      name: null as string | null,\n    };\n  },\n  created() {\n    if (!this.environment) {\n      this.$router.replace(\"/\");\n    } else {\n      this.name = this.environment?.name;\n    }\n  },\n  methods: {\n    save() {\n      this.$store.dispatch(\"app/editEnvironment\", {\n        previous: this.environment,\n        current: {\n          ...this.environment,\n          name: this.name,\n        },\n      });\n\n      this.$router.push(`/environment/${this.name}`);\n    },\n\n    randomizeSeed(environment: Environment) {\n      const randomValue = Math.floor(Math.random() * 100);\n      this.updateDefaultEnvironmentValues(randomValue / 100, \"gradual\", \"seed\");\n    },\n\n    updateDefaultEnvironmentValues(\n      value: boolean | number,\n      featureType: VexillaFeatureTypeString,\n      propName = \"value\"\n    ) {\n      console.log(\"update value\", value);\n\n      this.$store.dispatch(\"app/updateDefaultEnvironmentValues\", {\n        environment: this.environment,\n        defaultValues: {\n          ...this.defaultEnvironmentFeatureValues[this.environment.name],\n          [featureType]: {\n            ...this.defaultEnvironmentFeatureValues[this.environment.name][\n              featureType\n            ],\n            [propName]: value,\n          },\n        },\n      });\n    },\n  },\n  watch: {\n    environment(newEnvironment, oldEnvironment) {\n      this.name = newEnvironment?.name;\n    },\n  },\n  computed: {\n    ...mapState(\"app\", [\n      \"hosting\",\n      \"features\",\n      \"defaultEnvironmentFeatureValues\",\n    ]),\n    environment() {\n      const environment = this.$store.getters[\"app/environmentByName\"](\n        this.$route.params.name\n      );\n      return environment;\n    },\n  },\n  components: { Toggle },\n});\n","import { render } from \"./Environment.vue?vue&type=template&id=ba56a82e\"\nimport script from \"./Environment.vue?vue&type=script&lang=ts\"\nexport * from \"./Environment.vue?vue&type=script&lang=ts\"\n\nimport \"./Environment.vue?vue&type=style&index=0&id=ba56a82e&lang=postcss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}