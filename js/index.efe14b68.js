(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={index:0},i={index:0},r=[];function s(e){return c.p+"js/"+({configuration:"configuration","environment~feature":"environment~feature",environment:"environment",feature:"feature"}[e]||e)+"."+{configuration:"facb2140","environment~feature":"f68b93f0",environment:"598607b9",feature:"b74a4307"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={configuration:1,"environment~feature":1,environment:1,feature:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({configuration:"configuration","environment~feature":"environment~feature",environment:"environment",feature:"feature"}[e]||e)+"."+{configuration:"734ea0d0","environment~feature":"d4b62196",environment:"7e38199f",feature:"ba814b28"}[e]+".css",i=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[e],f.parentNode.removeChild(f),n(r)},f.href=i;var g=document.getElementsByTagName("head")[0];g.appendChild(f)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/app/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;r.push([2,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},2:function(e,t,n){e.exports=n("cd49")},3:function(e,t){},3892:function(e,t,n){"use strict";n("e85e")},4:function(e,t){},"4d43":function(e,t,n){},5:function(e,t){},6:function(e,t){},"6bd4":function(e,t,n){},7:function(e,t){},"79b7":function(e,t,n){"use strict";n("dfbd")},8:function(e,t){},8059:function(e,t,n){},"84df":function(e,t,n){},9:function(e,t){},cbee:function(e,t,n){"use strict";n("8059")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={class:"header"},i=Object(a["g"])('<a href="/" class="flex"><h1 class="header-heading"><span class="logo-wrapper"><img class="logo-image" src="img/logo-white.svg"></span><span class="app-title"> Vexilla </span></h1></a><nav class="header-nav"><a class="nav-link" href="/documentation">Documentation </a></nav>',2),r={class:"publish-row"},s={class:"status-wrapper"},c=Object(a["i"])("span",{class:"status-message error"}," Config is currently invalid ",-1),u={key:0,class:"status-message"},l={key:1,class:"status-message blue"},d={class:"layout"},f={class:"page-wrapper"};function g(e,t,n,g,m,p){var b,v,h,O,j,y,w,S,k,E,F,C,x=Object(a["z"])("Modal"),I=Object(a["z"])("router-link"),N=Object(a["z"])("Icon"),A=Object(a["z"])("Sidebar"),R=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(x),Object(a["i"])("header",o,[i,Object(a["i"])("div",r,[Object(a["i"])("div",s,[Object(a["i"])("div",null,[e.configIsValid()?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])(I,{key:0,class:"status-link",to:"/configuration"},{default:Object(a["I"])((function(){return[c]})),_:1}))]),e.dataHasChanged()?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])("span",u," No changes to push. ")),e.dataHasChanged()?(Object(a["s"])(),Object(a["e"])("span",l," Changes to push. ")):Object(a["f"])("",!0),null===(b=e.hosting)||void 0===b||null===(v=b.status)||void 0===v||!v.message||null!==(h=e.hosting)&&void 0!==h&&null!==(O=h.status)&&void 0!==O&&O.route?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])("span",{key:2,class:["status-message",null===(j=e.hosting)||void 0===j||null===(y=j.status)||void 0===y?void 0:y.type]},Object(a["B"])(null===(w=e.hosting)||void 0===w||null===(S=w.status)||void 0===S?void 0:S.message),3)),null!==(k=e.hosting)&&void 0!==k&&null!==(E=k.status)&&void 0!==E&&E.route?(Object(a["s"])(),Object(a["e"])(I,{key:3,class:"status-link",to:null===(F=e.hosting)||void 0===F||null===(C=F.status)||void 0===C?void 0:C.route},{default:Object(a["I"])((function(){var t,n,o,i;return[Object(a["i"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(a["B"])(null===(o=e.hosting)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.message),3)]})),_:1},8,["to"])):Object(a["f"])("",!0)]),Object(a["i"])("button",{class:"mobile-menu-button",onClick:t[1]||(t[1]=function(){return e.toggleSidebarShowing&&e.toggleSidebarShowing.apply(e,arguments)})},[e.sidebarShowing?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])(N,{key:0,icon:e.icons.openMenu},null,8,["icon"])),e.sidebarShowing?(Object(a["s"])(),Object(a["e"])(N,{key:1,icon:e.icons.closeMenu},null,8,["icon"])):Object(a["f"])("",!0)])])]),Object(a["i"])("div",d,[Object(a["i"])(A),Object(a["i"])("div",f,[Object(a["i"])(R)])])],64)}n("96cf");var m=n("1da1"),p=n("5530"),b=n("c850"),v=n("509f"),h=n("1294"),O=n("2c29"),j=Object(a["L"])("data-v-3a652aba");Object(a["v"])("data-v-3a652aba");var y={class:"toolbar"},w={class:"status-wrapper"},S=Object(a["i"])("span",{class:"status-message error"}," Config is currently invalid ",-1),k={key:0,class:"status-message"},E={class:"publish-row"},F=Object(a["i"])("span",{class:"sr-only","aria-hidden":"true"},"Download features.json",-1),C=Object(a["i"])("span",{class:"sr-only","aria-hidden":"true"}," Copy features.json to clipboard ",-1),x=Object(a["h"])(" Publish "),I={class:"config-button"},N=Object(a["i"])("span",null,"Configuration",-1),A={class:"sidebar-title"},R=Object(a["i"])("hr",{class:"separator"},null,-1),M={class:"sidebar-title"};Object(a["t"])();var V=j((function(e,t,n,o,i,r){var s,c,u,l,d,f,g,m,p,b,v,h,O,V,T,L,H,P,_=Object(a["z"])("router-link"),B=Object(a["z"])("Icon"),$=Object(a["z"])("ManageList");return Object(a["s"])(),Object(a["e"])("div",{class:["sidebar",{showing:e.sidebarShowing}]},[Object(a["i"])("div",y,[Object(a["i"])("div",w,[Object(a["i"])("div",null,[e.configIsValid()?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])(_,{key:0,class:"status-link",to:"/configuration"},{default:j((function(){return[S]})),_:1}))]),e.dataHasChanged()?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])("span",k," No changes to push. ")),null===(s=e.hosting)||void 0===s||null===(c=s.status)||void 0===c||!c.message||null!==(u=e.hosting)&&void 0!==u&&null!==(l=u.status)&&void 0!==l&&l.route?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])("span",{key:1,class:["status-message",null===(d=e.hosting)||void 0===d||null===(f=d.status)||void 0===f?void 0:f.type]},Object(a["B"])(null===(g=e.hosting)||void 0===g||null===(m=g.status)||void 0===m?void 0:m.message),3)),null!==(p=e.hosting)&&void 0!==p&&null!==(b=p.status)&&void 0!==b&&b.message&&null!==(v=e.hosting)&&void 0!==v&&null!==(h=v.status)&&void 0!==h&&h.route?(Object(a["s"])(),Object(a["e"])(_,{key:2,class:"status-link",to:null===(O=e.hosting)||void 0===O||null===(V=O.status)||void 0===V?void 0:V.route},{default:j((function(){var t,n,o,i;return[Object(a["i"])("span",{class:["status-message",null===(t=e.hosting)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.type]},Object(a["B"])(null===(o=e.hosting)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.message),3)]})),_:1},8,["to"])):Object(a["f"])("",!0)]),Object(a["i"])("div",E,[Object(a["i"])("button",{class:"icon-button",onClick:t[1]||(t[1]=function(t){return e.exportJson()}),title:"Download JSON","aria-label":"Download features.json"},[Object(a["i"])(B,{class:"icon",icon:e.icons.download},null,8,["icon"]),F]),Object(a["i"])("button",{class:"icon-button",onClick:t[2]||(t[2]=function(t){return e.copyJson()}),title:"Copy JSON","aria-label":"Copy features.json to clipboard"},[Object(a["i"])(B,{class:"icon",icon:e.icons.copy},null,8,["icon"]),C]),Object(a["i"])("button",{disabled:!e.dataHasChanged()||!e.configIsValid()||(null===(T=e.hosting)||void 0===T||null===(L=T.status)||void 0===L?void 0:L.type)===e.HostingStatusType.ERROR,onClick:t[3]||(t[3]=function(t){return e.publishChanges()})},[Object(a["i"])(B,{class:"icon",icon:e.icons.upload},null,8,["icon"]),x],8,["disabled"])]),Object(a["i"])(_,{to:"/configuration",class:"config-link",onClick:t[4]||(t[4]=function(t){return e.goToConfig(t)})},{default:j((function(){return[Object(a["i"])("button",I,[Object(a["i"])(B,{icon:e.icons.settings,class:"logo"},null,8,["icon"]),N])]})),_:1})]),Object(a["i"])("h2",A,"Environments ("+Object(a["B"])(null===(H=e.environments)||void 0===H?void 0:H.length)+")",1),Object(a["i"])($,{"item-label":"Environment",namedRoute:"Environment",list:e.environments,onItemAdded:e.addEnvironment,onItemRemoved:e.removeEnvironment,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"]),R,Object(a["i"])("h2",M,"Features ("+Object(a["B"])(null===(P=e.features)||void 0===P?void 0:P.length)+")",1),Object(a["i"])($,{"item-label":"Feature",namedRoute:"Feature",list:e.features,onItemAdded:e.addFeature,onItemRemoved:e.removeFeature,onNavigated:e.toggleSidebarShowing},null,8,["list","onItemAdded","onItemRemoved","onNavigated"])],2)})),T=(n("b0c0"),Object(a["L"])("data-v-654bde9a"));Object(a["v"])("data-v-654bde9a");var L={class:"manage-list"},H={class:"input-button-combo"},P={type:"submit"},_={class:"list"},B={class:"item-name"};Object(a["t"])();var $=T((function(e,t,n,o,i,r){var s=Object(a["z"])("Icon"),c=Object(a["z"])("router-link");return Object(a["s"])(),Object(a["e"])("div",L,[Object(a["i"])("form",{onSubmit:t[2]||(t[2]=Object(a["K"])((function(t){return e.addItem()}),["prevent"]))},[Object(a["i"])("label",null," Add "+Object(a["B"])(e.itemLabel),1),Object(a["i"])("div",H,[Object(a["J"])(Object(a["i"])("input",{placeholder:e.itemLabel+" title",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputText=t}),ref:"inputField"},null,8,["placeholder"]),[[a["F"],e.inputText]]),Object(a["i"])("button",P,[Object(a["i"])(s,{icon:e.icons.plus},null,8,["icon"])])])],32),Object(a["i"])("ul",_,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.list,(function(t){return Object(a["s"])(),Object(a["e"])("li",{key:null===t||void 0===t?void 0:t.name,class:"item"},[Object(a["i"])(c,{to:{name:e.namedRoute,params:{name:t.name}},class:"item-link",title:null===t||void 0===t?void 0:t.name},{default:T((function(){return[Object(a["i"])("h3",B,Object(a["B"])(null===t||void 0===t?void 0:t.name),1)]})),_:2},1032,["to","title"]),Object(a["i"])("button",{class:"delete-button",onClick:function(n){return e.removeItem(t)}},[Object(a["i"])(s,{icon:e.icons.remove},null,8,["icon"])],8,["onClick"])])})),128))])])})),D=(n("7db0"),n("3698")),z=n("3eba"),J=Object(a["j"])({name:"ManageList",data:function(){return{inputText:"",icons:{plus:D["a"],remove:z["a"]}}},props:{itemLabel:String,list:Array,namedRoute:String},components:{Icon:b["a"]},methods:{addItem:function(){var e=this;if(this.inputText){var t,n=null===(t=this.list)||void 0===t?void 0:t.find((function(t){return t.name===e.inputText}));if(n)return;this.$emit("item-added",{name:this.inputText}),this.inputText=null}},removeItem:function(e){this.$emit("item-removed",e)}}});n("cbee");J.render=$,J.__scopeId="data-v-654bde9a";var K,W=J,G=n("5502"),U=n("e6ce"),q=n("9f5f"),Y=n("5f62"),Q=n("ef19"),X=n("21a6"),Z=n("d576"),ee=(n("99af"),n("4160"),n("d3b7"),n("159b"),n("d4ec")),te=n("bee2"),ne=n("4a9d"),ae=n("bc3a"),oe=n.n(ae),ie=function(){function e(){Object(ee["a"])(this,e)}return Object(te["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="https://".concat(e.bucketName,".s3.amazonaws.com/features.json");return oe.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.region||!e.bucketName||!e.accessKeyId||!e.secretAccessKey)}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.uploadWithOldSDK(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"uploadWithOldSDK",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new ne["S3"]({credentials:{accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey}}),o={ACL:"public-read",Body:JSON.stringify(t),Bucket:n.bucketName,Key:"features.json"},e.next=4,a.putObject(o).promise().catch((function(e){console.log(e,e.stack)}));case 4:return i=e.sent,console.log("Success: ",i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),re=(n("c19f"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("6bd1")),se=function(){function e(){Object(ee["a"])(this,e)}return Object(te["a"])(e,null,[{key:"fetchFeatures",value:function(e){var t="".concat(e.remoteUrl,"features.json");return oe.a.get(t).catch((function(e){return console.log("Error fetching Features"),"foo"}))}},{key:"isConfigValid",value:function(e){return!(!e.remoteUrl||!e.container||!e.storageAccount||!e.sharedAccessSignature)}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var a,o,i,r,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=new re["a"](n.sharedAccessSignature),o=a.getContainerClient(n.container),i=o.getBlockBlobClient("features.json"),r=JSON.stringify(t),s=new ArrayBuffer(r.length),c=new Uint8Array(s),u=0,l=r.length;u<l;u++)c[u]=r.charCodeAt(u);return e.abrupt("return",i.uploadData(s));case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ce=function(){function e(){Object(ee["a"])(this,e)}return Object(te["a"])(e,null,[{key:"fetchFeatures",value:function(e){throw new Error("fetchFeatures not implemented")}},{key:"isConfigValid",value:function(e){throw new Error("isConfigValid is not implemented.")}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Gcloud upload not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),ue=n("d485"),le=function(){function e(){Object(ee["a"])(this,e)}return Object(te["a"])(e,null,[{key:"fetchFeatures",value:function(e){}},{key:"isConfigValid",value:function(e){return!0}},{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.a.post("https://storage.googleapis.com/upload/storage/v1/b/".concat(n.bucketName,"/o?name=features.json&uploadType=media&key=").concat(n.apiKey),t).then((function(e){return console.log({result:e}),e}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"writeWritableStream",value:function(e,t){return new Promise((function(n,a){console.log("made it into writeWriteable"),ue["Readable"].from(t).pipe(e).on("error",(function(e){console.log("error in stream"),a(e)})).on("finish",(function(){console.log("stream finished"),n("success")}))}))}}]),e}();(function(e){e["NORMAL"]="normal",e["ERROR"]="error",e["WARNING"]="warning"})(K||(K={}));var de=function(){function e(){Object(ee["a"])(this,e)}return Object(te["a"])(e,null,[{key:"upload",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.provider||!n.config){e.next=5;break}return a=this.adapters[n.provider],e.abrupt("return",a.upload(t,n.config));case 5:throw new Error("No config.provider passed to upload");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"formatPayloadFromState",value:function(e){var t={environments:{}};return e.environments.forEach((function(n){t.environments[n.name]={untagged:{}},e.features.forEach((function(a){var o=Object(p["a"])(Object(p["a"])({},e.featuresSettings["".concat(a.name,"/").concat(n.name,"/").concat(a.type)]),{},{type:a.type});t.environments[n.name].untagged[a.name]=Object(p["a"])({},o)}))})),t}},{key:"extractStateFromPayload",value:function(e){throw new Error("Method not implemented")}},{key:"isConfigValid",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.isConfigValid(e.config)}return console.log("No Adapter"),!1}},{key:"fetchExistingFeatures",value:function(e){if(null!==e&&void 0!==e&&e.provider&&null!==e&&void 0!==e&&e.config){var t=this.adapters[e.provider];return t.fetchFeatures(e.config)}return console.log("No Adapter"),Promise.resolve(!1)}}]),e}();de.adapters={s3:ie,azure:se,gcloud:ce,firebase:le};var fe=Object(a["j"])({name:"Sidebar",data:function(){return{HostingStatusType:K,icons:{settings:U["a"],upload:q["a"],download:Y["a"],copy:Q["a"]}}},computed:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(G["d"])("app",["environments","features","hosting"])),Object(G["d"])("ui",["sidebarShowing"])),Object(G["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(G["b"])("app",["addEnvironment","removeEnvironment","addFeature","removeFeature"])),Object(G["b"])("ui",["toggleSidebarShowing","setSidebarShowing"])),{},{goToConfig:function(e){console.log("event",e),e.preventDefault(),this.$router.push("/configuration"),this.toggleSidebarShowing()},publishChanges:function(){var e=this.$store.state.app,t=de.formatPayloadFromState(e);de.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},exportJson:function(){var e=this.$store.state.app,t=de.formatPayloadFromState(e);Object(X["saveAs"])(new Blob([JSON.stringify(t)],{type:"application/json"}),"features.json")},copyJson:function(){var e=this,t=this.$store.state.app,n=de.formatPayloadFromState(t);Z["a"](JSON.stringify(n,null,2));var a=this.$store.state.app.hosting.status;console.log("current",JSON.parse(JSON.stringify(a)));var o="Config copied to clipboard.";this.$store.dispatch("app/setHostingStatus",{message:o,type:K.NORMAL}),setTimeout((function(){var t=e.$store.state.app.hosting.status;console.log("latest",JSON.parse(JSON.stringify(t))),t.message===o&&e.$store.dispatch("app/setHostingStatus",Object(p["a"])({},a))}),3e3)}}),components:{ManageList:W,Icon:b["a"]}});n("3892");fe.render=V,fe.__scopeId="data-v-3a652aba";var ge=fe,me=Object(a["L"])("data-v-a7973084");Object(a["v"])("data-v-a7973084");var pe={key:0,class:"backdrop"},be={class:"modal-wrapper"},ve={class:"modal"},he={key:0,class:"inactivity-warning modal-content-wrapper"},Oe=Object(a["i"])("div",{class:"modal-content"},[Object(a["i"])("h2",{class:"modal-title"},"Warning!"),Object(a["i"])("p",null," You have been idle for more than 10 minutes. We have paused the data sync loop. ")],-1),je={class:"actions"};Object(a["t"])();var ye,we=me((function(e,t,n,o,i,r){return e.modalShowing?(Object(a["s"])(),Object(a["e"])("div",pe,[Object(a["i"])("div",be,[Object(a["i"])("div",ve,[e.currentModal===e.ModalName.InactivityWarning?(Object(a["s"])(),Object(a["e"])("div",he,[Oe,Object(a["i"])("div",je,[Object(a["i"])("button",{onClick:t[1]||(t[1]=function(t){return e.resumeSyncLoop()})},"Resume Loop")])])):Object(a["f"])("",!0)])])])):Object(a["f"])("",!0)}));(function(e){e["None"]="None",e["InactivityWarning"]="InactivityWarning"})(ye||(ye={}));var Se={namespaced:!0,state:{sidebarShowing:!1,modalShowing:!0,currentModal:ye.InactivityWarning},mutations:{setSidebarShowing:function(e,t){e.sidebarShowing=t},toggleSidebarShowing:function(e,t){e.sidebarShowing=!e.sidebarShowing},setModalShowing:function(e,t){e.modalShowing=t},setCurrentModal:function(e,t){e.currentModal=t}},actions:{setSidebarShowing:function(e,t){e.commit("setSidebarShowing",t)},toggleSidebarShowing:function(e){e.commit("toggleSidebarShowing")},setModalShowing:function(e,t){e.commit("setModalShowing",t)},setCurrentModal:function(e,t){e.commit("setCurrentModal",t)}}},ke=Object(a["j"])({name:"Modal",data:function(){return{ModalName:ye}},computed:Object(p["a"])(Object(p["a"])({},Object(G["d"])("app",[])),Object(G["d"])("ui",["modalShowing","currentModal"])),methods:{resumeSyncLoop:function(){console.log("foo"),this.$store.dispatch("ui/setCurrentModal",ye.None),this.$store.dispatch("ui/setModalShowing",!1)}}});n("79b7");ke.render=we,ke.__scopeId="data-v-a7973084";var Ee=ke,Fe=Object(a["j"])({name:"App",data:function(){return{HostingStatusType:K,showing:!1,icons:{flag:O["a"],openMenu:v["a"],closeMenu:h["a"]},fetchInterval:null,lastInteraction:Date.now()}},created:function(){this.fetchInterval=setInterval(this.synchronize,3e4),this.synchronize(),document.addEventListener("click",this.resetTimer),document.addEventListener("mousemove",this.resetTimer),document.addEventListener("scroll",this.resetTimer),document.addEventListener("keypress",this.resetTimer)},unmounted:function(){this.fetchInterval&&clearInterval(this.fetchInterval)},computed:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(G["d"])("app",["hosting"])),Object(G["d"])("ui",["sidebarShowing"])),Object(G["c"])("app",["configIsValid","dataHasChanged"])),methods:Object(p["a"])(Object(p["a"])({},Object(G["b"])("ui",["toggleSidebarShowing"])),{},{resetTimer:function(){this.lastInteraction=Date.now()},publishChanges:function(){var e=this.$store.state.app,t=de.formatPayloadFromState(e);de.upload(t,e.hosting),this.$store.dispatch("app/setExistingFeatures",t)},synchronize:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.getters["app/configIsValid"](),!(Date.now()>e.lastInteraction+6e5)){t.next=6;break}e.$store.dispatch("ui/setCurrentModal",ye.InactivityWarning),e.$store.dispatch("ui/setModalShowing",!0),t.next=12;break;case 6:if(!n){t.next=12;break}return t.next=9,de.fetchExistingFeatures(e.$store.state.app.hosting);case 9:a=t.sent,console.log({result:a}),e.$store.dispatch("app/setExistingFeatures",a.data);case 12:case"end":return t.stop()}}),t)})))()}}),components:{Sidebar:ge,Icon:b["a"],Modal:Ee}});n("d760");Fe.render=g;var Ce=Fe,xe=n("9483");Object(xe["a"])("".concat("/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ie=n("6c02"),Ne=Object(a["L"])("data-v-52c851f8");Object(a["v"])("data-v-52c851f8");var Ae={class:"home"},Re=Object(a["i"])("p",{class:"getting-started-intro prose"}," Getting started is easy. ",-1),Me=Object(a["i"])("ol",{class:"getting-started-list"},[Object(a["i"])("li",null,"First, enter your hosting configuration. (S3, Azure, GCP, etc.)"),Object(a["i"])("li",null," Next, start creating your environments. (dev, staging, prod, etc.) "),Object(a["i"])("li",null,"Then, create your feature flags.")],-1);Object(a["t"])();var Ve=Ne((function(e,t,n,o,i,r){var s=Object(a["z"])("Icon");return Object(a["s"])(),Object(a["e"])("div",Ae,[Re,Object(a["i"])(s,{icon:e.icons.flag,class:"logo"},null,8,["icon"]),Me])})),Te=(n("c975"),n("a434"),n("f499")),Le=n("612d"),He={namespaced:!0,state:{features:[],featuresSettings:{},environments:[],hosting:{provider:null,config:null,status:null},defaultEnvironmentFeatureValues:{},existingFeatures:null},getters:{environmentByName:function(e){return function(t){return e.environments.find((function(e){return e.name===t}))}},featureByName:function(e){return function(t){return e.features.find((function(e){return e.name===t}))}},getFeatureSettings:function(e){return function(t,n,a){var o="".concat(t.name,"/").concat(n.name,"/").concat(a),i=e.featuresSettings[o];return i}},configIsValid:function(e){return function(){try{return de.isConfigValid(e.hosting)}catch(t){return console.log("Error running isConfigValid",t),!1}}},dataHasChanged:function(e){return function(){return!Object(Le["isEqual"])(e.existingFeatures,de.formatPayloadFromState(e))}}},mutations:{addFeature:function(e,t){e.features.push(Object(p["a"])(Object(p["a"])({},t),{},{type:"toggle"})),e.environments.forEach((function(n){e.featuresSettings["".concat(t.name,"/").concat(n.name,"/toggle")]={value:e.defaultEnvironmentFeatureValues[n.name].toggle["value"]}}))},removeFeature:function(e,t){var n=e.features.indexOf(t);e.features.splice(n,1)},editFeature:function(e,t){var n=t.previous,a=t.current;if(a.type){var o=e.features.indexOf(n);e.features[o]=Object(p["a"])(Object(p["a"])({},n),a),e.environments.forEach((function(t){var n={},o=e.featuresSettings["".concat(a.name,"/").concat(t.name,"/").concat(a.type)];o&&(o["value"]||0===o["value"])||(n["value"]=e.defaultEnvironmentFeatureValues[t.name][a.type]["value"]),o&&("gradual"!==a.type||o["seed"]||0===o["seed"])||(n["seed"]=e.defaultEnvironmentFeatureValues[t.name][a.type]["seed"]),e.featuresSettings["".concat(a.name,"/").concat(t.name,"/").concat(a.type)]=Object(p["a"])(Object(p["a"])({},o),n)}))}},addEnvironment:function(e,t){e.environments.push(t),e.defaultEnvironmentFeatureValues[t.name]={toggle:{type:Te["VexillaFeatureType"].TOGGLE,value:!1},gradual:{type:Te["VexillaFeatureType"].GRADUAL,seed:.01,value:0},selective:{type:Te["VexillaFeatureType"].SELECTIVE}}},removeEnvironment:function(e,t){var n=e.environments.indexOf(t);e.environments.splice(n,1)},editEnvironment:function(e,t){var n=t.previous,a=t.current,o=e.environments.indexOf(n);e.features.forEach((function(t){e.featuresSettings["".concat(t.name,"/").concat(a.name,"/").concat(t.type)]=e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)],delete e.featuresSettings["".concat(t.name,"/").concat(n.name,"/").concat(t.type)]})),e.environments[o]=Object(p["a"])(Object(p["a"])({},n),a)},setFeatureSettings:function(e,t){var n=t.feature,a=t.environment,o=t.type,i=t.settings,r=e.featuresSettings["".concat(n.name,"/").concat(a.name,"/").concat(o)];e.featuresSettings["".concat(n.name,"/").concat(a.name,"/").concat(o)]=Object(p["a"])(Object(p["a"])({},r),i)},updateHostingProvider:function(e,t){e.hosting.provider=t},updateHostingConfig:function(e,t){e.hosting.config=t},updateDefaultFeatureValues:function(e,t){var n=t.environment,a=t.defaultValues;e.defaultEnvironmentFeatureValues[n.name]=a},setHostingStatus:function(e,t){e.hosting.status=t},setExistingFeatures:function(e,t){e.existingFeatures=t},importHostingAdapter:function(e,t){e.hosting=t}},actions:{addFeature:function(e,t){e.commit("addFeature",t)},removeFeature:function(e,t){e.commit("removeFeature",t)},editFeature:function(e,t){e.commit("editFeature",t)},addEnvironment:function(e,t){e.commit("addEnvironment",t)},removeEnvironment:function(e,t){e.commit("removeEnvironment",t)},editEnvironment:function(e,t){e.commit("editEnvironment",t)},setFeatureSettings:function(e,t){e.commit("setFeatureSettings",t)},updateHostingProvider:function(e,t){console.log({hostingProvider:t}),e.commit("updateHostingProvider",t)},updateHostingConfig:function(e,t){e.commit("updateHostingConfig",t)},updateDefaultEnvironmentValues:function(e,t){e.commit("updateDefaultFeatureValues",t)},setHostingStatus:function(e,t){console.log({status:t}),e.commit("setHostingStatus",t)},setExistingFeatures:function(e,t){e.commit("setExistingFeatures",t)},importHostingAdapter:function(e,t){e.commit("importHostingAdapter",t)}}},Pe=n("0e44"),_e=Object(G["a"])({modules:{app:He,ui:Se},plugins:[Object(Pe["a"])()]}),Be=Object(a["j"])({name:"Home",store:_e,data:function(){return{icons:{flag:O["a"]}}},components:{Icon:b["a"]}});n("fa56");Be.render=Ve,Be.__scopeId="data-v-52c851f8";var $e=Be,De=[{path:"/",name:"Home",component:$e},{path:"/environment/:name",name:"Environment",component:function(){return Promise.all([n.e("environment~feature"),n.e("environment")]).then(n.bind(null,"6ca2"))}},{path:"/feature/:name",name:"Feature",component:function(){return Promise.all([n.e("environment~feature"),n.e("feature")]).then(n.bind(null,"9a97"))}},{path:"/configuration",name:"Configuration",component:function(){return n.e("configuration").then(n.bind(null,"829a"))}}];console.log("NODE_ENV","production"),console.log("BASE_URL","/app/");var ze=Object(Ie["a"])({history:Object(Ie["b"])("/app/"),routes:De}),Je=ze;n("84df");Object(a["d"])(Ce).use(_e).use(Je).mount("#app")},d760:function(e,t,n){"use strict";n("6bd4")},dfbd:function(e,t,n){},e85e:function(e,t,n){},fa56:function(e,t,n){"use strict";n("4d43")}});
//# sourceMappingURL=index.efe14b68.js.map